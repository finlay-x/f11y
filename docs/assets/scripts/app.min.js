(()=>{function m(s){var e=function(t,o){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,o||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(t)}(s,"string");return typeof e=="symbol"?e:String(e)}function l(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function h(s,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,m(o.key),o)}}function d(s,e,t){return e&&h(s.prototype,e),t&&h(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}var i=i||{};i.focusableElements=['a[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','area[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','input:not([disabled]):not([type="hidden"]):not([aria-hidden]):not([tabindex^="-"])','select:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','textarea:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','button:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','iframe:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','object:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','embed:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[contenteditable]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])','[role="menuitem"]:not([disabled]):not([hidden]):not([aria-hidden])'],i.globalSettings={animatingClass:"is-animating",animatingOpenClass:"is-opening",animatingCloseClass:"is-closing",awaitOpenAnimation:!1,awaitCloseAnimation:!1,openClass:"is-open"},i.store={activeLayers:[],activeLayer:""},i.Accordion=function(){function s(e,t){l(this,s),this.options=Object.assign({onOpen:function(){},onClose:function(){},itemClass:"f11y--accordion__item",showMultiple:!0},t),this.accordionGroupNode=e,this.accordionItems=[],this.init()}return d(s,[{key:"init",value:function(){for(var e=Array.from(this.accordionGroupNode.querySelectorAll(".f11y--accordion__item")),t=0;t<e.length;t+=1){var o=e[t],n=o.querySelector('[role="region"]'),a=o.querySelector("[aria-controls]"),r={index:t,item:o,itemPanel:n,itemTrigger:a,isOpen:a.getAttribute("aria-expanded")};this.accordionItems.push(r)}for(var c=0;c<this.accordionItems.length;c+=1)this.accordionItems[c].itemTrigger.addEventListener("click",this.toggle.bind(this,this.accordionItems[c]))}},{key:"refresh",value:function(){this.accordionItems=[],this.init()}},{key:"toggle",value:function(e,t){var o=e.isOpen;this.options.showMultiple===!1&&this.closeAll(t),o!="false"?o!="true"||this.closeItem(t,e):this.openItem(t,e)}},{key:"closeAll",value:function(e){for(var t=0;t<this.accordionItems.length;t+=1)this.accordionItems[t].isOpen=="true"&&this.closeItem(e,this.accordionItems[t])}},{key:"openAll",value:function(e){if(this.options.showMultiple!==!1)for(var t=0;t<this.accordionItems.length;t+=1)this.openItem(e,this.accordionItems[t])}},{key:"openItem",value:function(e,t){t.isOpen!="true"&&(t.itemPanel.removeAttribute("hidden"),t.itemTrigger.setAttribute("aria-expanded","true"),t.isOpen="true",this.options.onOpen(t,e,this))}},{key:"closeItem",value:function(e,t){t.isOpen=="true"&&(t.itemPanel.setAttribute("hidden",""),t.itemTrigger.setAttribute("aria-expanded","false"),t.isOpen="false",this.options.onClose(t,e,this))}}]),s}(),i.Dropdown=function(){function s(e,t){l(this,s);var o={onOpen:function(){},onClose:function(){},openClass:i.globalSettings.openClass,triggerNodeSelector:"button[aria-controls]",dropdownNodeSelector:'[role="menu"]',updateOnSelect:!1,updateTargetSelector:"",closeOnSelect:!1,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(o,t),this.domNode=e,this.dropdownItemNodes=[],this.firstChars=[],this.init()}return d(s,[{key:"isset",value:function(e){return e!==void 0&&e!=null}},{key:"init",value:function(){this.triggerNode=this.domNode.querySelector(this.options.triggerNodeSelector),this.dropdownNode=this.domNode.querySelector(this.options.dropdownNodeSelector),this.triggerNode.addEventListener("keydown",this.onTriggerKeydown.bind(this)),this.triggerNode.addEventListener("click",this.onTriggerClick.bind(this)),this.options.updateTargetSelector?this.options.updateTargetSelector:this.options.triggerNodeSelector,this.updateTargetNode=document.querySelector(this.options.updateTargetSelector);for(var e=this.dropdownNode.querySelectorAll(i.focusableElements),t=0;t<e.length;t++){var o=e[t];this.dropdownItemNodes.push(o),o.tabIndex=-1,this.firstChars.push(o.textContent.trim()[0].toLowerCase()),o.addEventListener("keydown",this.onDropdownItemKeydown.bind(this)),o.addEventListener("mouseover",this.onDropdownItemMouseover.bind(this)),this.options.updateOnSelect===!0&&o.addEventListener("click",this.onDropdownItemClick.bind(this)),this.firstDropdownItem||(this.firstDropdownItem=o),this.lastDropdownItem=o}this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),window.addEventListener("mousedown",this.onBackgroundMousedown.bind(this),!0),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this))}},{key:"refresh",value:function(){this.dropdownItemNodes=[],this.firstChars=[],this.init()}},{key:"isOpen",value:function(){return this.triggerNode.getAttribute("aria-expanded")==="true"}},{key:"setFocusToDropdownItem",value:function(e){this.dropdownItemNodes.forEach(function(t){t===e?(t.tabIndex=0,e.focus()):t.tabIndex=-1})}},{key:"setFocusToFirstDropdownItem",value:function(){this.setFocusToDropdownItem(this.firstDropdownItem)}},{key:"setFocusToLastDropdownItem",value:function(){this.setFocusToDropdownItem(this.lastDropdownItem)}},{key:"setFocusToPreviousDropdownItem",value:function(e){var t,o;return e===this.firstDropdownItem?t=this.lastDropdownItem:(o=this.dropdownItemNodes.indexOf(e),t=this.dropdownItemNodes[o-1]),this.setFocusToDropdownItem(t),t}},{key:"setFocusToNextDropdownItem",value:function(e){var t,o;return e===this.lastDropdownItem?t=this.firstDropdownItem:(o=this.dropdownItemNodes.indexOf(e),t=this.dropdownItemNodes[o+1]),this.setFocusToDropdownItem(t),t}},{key:"setFocusByFirstCharacter",value:function(e,t){var o,n;t.length>1||(t=t.toLowerCase(),(o=this.dropdownItemNodes.indexOf(e)+1)>=this.dropdownItemNodes.length&&(o=0),(n=this.firstChars.indexOf(t,o))===-1&&(n=this.firstChars.indexOf(t,0)),n>-1&&this.setFocusToDropdownItem(this.dropdownItemNodes[n]))}},{key:"openDropdown",value:function(e){var t=this.domNode,o=this.dropdownNode,n=this.triggerNode,a=this.options.openClass;n.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false"),t.classList.add(a),this.options.awaitOpenAnimation&&(t.addEventListener("animationend",function r(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),t.removeEventListener("animationend",r)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)),this.options.onOpen(e,this)}},{key:"closeDropdown",value:function(e){if(this.isOpen()){var t=this.domNode,o=this.dropdownNode,n=this.triggerNode,a=this.options.openClass;o.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation?(t.addEventListener("animationend",function r(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),t.classList.remove(a),t.removeEventListener("animationend",r)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)):t.classList.remove(a),n.removeAttribute("aria-expanded"),this.options.onClose(e,this)}this.resetBoundingBox()}},{key:"onFocusin",value:function(){this.domNode.classList.add("focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("focus")}},{key:"onTriggerKeydown",value:function(e){var t=!1;switch(e.key){case" ":case"Enter":case"ArrowDown":case"Down":this.openDropdown(e),this.checkBoundingBox(),this.setFocusToFirstDropdownItem(),t=!0;break;case"Esc":case"Escape":this.isOpen()?(this.closeDropdown(e),this.triggerNode.focus(),t=!0):t=!1;break;case"Up":case"ArrowUp":this.openDropdown(e),this.checkBoundingBox(),this.setFocusToLastDropdownItem(),t=!0;break;case"Tab":this.isOpen()&&this.closeDropdown(e),t=!1}t&&(e.stopPropagation(),e.preventDefault())}},{key:"onTriggerClick",value:function(e){this.isOpen()?(this.closeDropdown(e),this.triggerNode.focus()):(this.openDropdown(e),this.checkBoundingBox(),this.setFocusToFirstDropdownItem()),e.stopPropagation(),e.preventDefault()}},{key:"onDropdownItemKeydown",value:function(e){var t=e.currentTarget,o=e.key,n=!1;function a(r){return r.length===1&&r.match(/\S/)}if(!(e.ctrlKey||e.altKey||e.metaKey)){if(e.shiftKey)a(o)&&(this.setFocusByFirstCharacter(t,o),n=!0),e.key==="Tab"&&(this.triggerNode.focus(),this.closeDropdown(e),n=!0);else switch(o){case" ":window.location.href=t.href;break;case"Esc":case"Escape":case"Tab":this.closeDropdown(e),this.triggerNode.focus(),n=!0;break;case"Up":case"ArrowUp":this.setFocusToPreviousDropdownItem(t),n=!0;break;case"ArrowDown":case"Down":this.setFocusToNextDropdownItem(t),n=!0;break;case"Home":case"PageUp":this.setFocusToFirstDropdownItem(),n=!0;break;case"End":case"PageDown":this.setFocusToLastDropdownItem(),n=!0;break;case"Enter":this.onDropdownItemClick(e);break;default:a(o)&&(this.setFocusByFirstCharacter(t,o),n=!0)}n&&(e.stopPropagation(),e.preventDefault())}}},{key:"onDropdownItemMouseover",value:function(e){e.currentTarget.focus()}},{key:"onDropdownItemClick",value:function(e){if(this.options.updateOnSelect===!0){var t=e.currentTarget.textContent;this.updateTargetNode.textContent=t,this.updateTargetNode.value=t}this.options.closeOnSelect===!0&&this.closeDropdown(e)}},{key:"checkBoundingBox",value:function(){var e=this.dropdownNode.getBoundingClientRect();this.checkVerticalBounding(e)}},{key:"checkVerticalBounding",value:function(e){var t=window.innerHeight;return e.bottom>t?(this.domNode.classList.add("out-of-bounds--bottom"),void this.domNode.classList.remove("out-of-bounds--top")):e.top<0?(this.domNode.classList.add("out-of-bounds--top"),void this.domNode.classList.remove("out-of-bounds--bottom")):void 0}},{key:"resetBoundingBox",value:function(){this.domNode.classList.remove("out-of-bounds--top","out-of-bounds--bottom")}},{key:"onBackgroundMousedown",value:function(e){this.domNode.contains(e.target)||this.isOpen()&&(this.closeDropdown(e),this.triggerNode.focus())}}]),s}(),i.Layer=function(){function s(e,t){l(this,s);var o={onOpen:function(){},onClose:function(){},openTrigger:"f11y-layer-open",closeTrigger:"f11y-layer-close",openClass:i.globalSettings.openClass,disableScroll:!0,closeOnBackgroundClick:!0,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(o,t),this.layer=e,this.id="",this.init()}return d(s,[{key:"init",value:function(){this.id=this.layer.id,this.dialog=this.layer.querySelector('[role="dialog"]'),this.triggerNodes=document.querySelectorAll("["+this.options.openTrigger+'="'+this.layer.id+'"]'),this.closeNodes=document.querySelectorAll("["+this.options.closeTrigger+'="'+this.layer.id+'"]'),this.focusableElements=Array.from(this.layer.querySelectorAll(i.focusableElements)),this.filterFocusableElements();for(var e=0;e<this.triggerNodes.length;e++)this.triggerNodes[e].addEventListener("click",this.openLayer.bind(this),!0);for(var t=0;t<this.closeNodes.length;t++)this.closeNodes[t].addEventListener("click",this.closeLayer.bind(this),!0);for(var o=0;o<this.focusableElements.length;o++)this.firstElement||(this.firstElement=this.focusableElements[o]),this.lastElement=this.focusableElements[o];this.onBackgroundMousedownBound=this.onBackgroundMousedown.bind(this),this.onWindowKeydownBound=this.onWindowKeydown.bind(this)}},{key:"refresh",value:function(){this.init()}},{key:"filterFocusableElements",value:function(){for(var e=this.focusableElements.length;e--;)this.focusableElements[e].closest("[aria-hidden]")!=this.layer&&this.focusableElements.splice(e,1)}},{key:"isOpen",value:function(){return this.layer.getAttribute("aria-hidden")==="false"}},{key:"setFocusToElement",value:function(e){this.focusableElements.forEach(function(t){t===e&&e.focus()})}},{key:"setFocusToFirstElement",value:function(){this.setFocusToElement(this.firstElement)}},{key:"setFocusToLastElement",value:function(){this.setFocusToElement(this.lastElement)}},{key:"setFocusToPrevElement",value:function(e){var t,o;return e===this.firstElement?t=this.lastElement:(o=this.focusableElements.indexOf(e),t=this.focusableElements[o-1]),this.setFocusToElement(t),t}},{key:"setFocusToNextElement",value:function(e){var t,o;return e===this.lastElement?t=this.firstElement:(o=this.focusableElements.indexOf(e),t=this.focusableElements[o+1]),this.setFocusToElement(t),console.log(t),t}},{key:"openLayer",value:function(e){this.activeElement=document.activeElement;var t=this.layer,o=document.querySelector("body"),n=this.options.openClass;t.setAttribute("aria-hidden","false"),t.classList.add(n),t.addEventListener("click",this.onLayerClick),this.options.disableScroll&&o.style.setProperty("overflow","hidden"),this.options.awaitOpenAnimation&&(t.addEventListener("animationend",function a(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),t.removeEventListener("animationend",a)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)),this.setFocusToFirstElement(),this.addGlobalListeners(),i.store.activeLayer=this.id,i.store.activeLayers.push(this.id),this.options.onOpen(e,this)}},{key:"closeLayer",value:function(e){if(this.isOpen()){if(this.id!=i.store.activeLayer)return;var t=this.layer,o=document.querySelector("body"),n=this.options.openClass;i.store.activeLayers.pop(),i.store.activeLayer=i.store.activeLayers[i.store.activeLayers.length-1],t.setAttribute("aria-hidden","true"),t.removeEventListener("click",this.onLayerClick),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.options.awaitCloseAnimation?(t.addEventListener("animationend",function a(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),t.classList.remove(n),i.store.activeLayers<=0&&o.style.removeProperty("overflow"),t.removeEventListener("animationend",a)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)):(t.classList.remove(n),i.store.activeLayers<=0&&o.style.removeProperty("overflow"))}this.removeGlobalListeners(),this.options.onClose(e,this)}},{key:"addGlobalListeners",value:function(){window.addEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.addEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"removeGlobalListeners",value:function(){window.removeEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.removeEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"closeLayerById",value:function(e){this.layer=document.getElementById(e),this.layer&&this.closeLayer()}},{key:"onWindowKeydown",value:function(e){var t=!1,o=e.target||e.currentTarget;if(e.shiftKey)e.key==="Tab"&&(this.setFocusToPrevElement(o),t=!0);else switch(e.key){case"Escape":case"Esc":this.closeLayer(e),t=!0;break;case"Tab":this.setFocusToNextElement(o),t=!0;break;case"Home":case"PageUp":this.setFocusToFirstElement(),t=!0;break;case"End":case"PageDown":this.setFocusToLastElement(),t=!0}t&&(e.stopPropagation(),e.preventDefault())}},{key:"onBackgroundMousedown",value:function(e){this.dialog.contains(e.target)||this.isOpen()&&(this.closeLayer(e),this.activeElement.focus())}}]),s}(),i.Table=function(){function s(e){l(this,s),this.tableNode=e,this.init()}return d(s,[{key:"init",value:function(){this.tableId=this.tableNode.getAttribute("id"),this.tableGroups=Array.from(this.tableNode.querySelectorAll("thead, tbody, tfoot")),this.tableRows=Array.from(this.tableNode.querySelectorAll("tr")),this.tableHeaderCells=Array.from(this.tableNode.querySelectorAll("th")),this.tableDataCells=Array.from(this.tableNode.querySelectorAll("td")),this.styleElm=document.createElement("style"),document.head.appendChild(this.styleElm),this.stylesheet=this.styleElm.sheet,this.insertCellHeaders(),this.insertTableAria()}},{key:"refresh",value:function(){this.init()}},{key:"insertCellHeaders",value:function(){for(var e=0;e<this.tableHeaderCells.length;e+=1)this.stylesheet.insertRule("#"+this.tableId+" td:nth-child("+(e+1)+")::before {content:'"+this.tableHeaderCells[e].innerText+"';}",this.stylesheet.cssRules.length)}},{key:"insertTableAria",value:function(){this.tableNode.setAttribute("role","table");for(var e=0;e<this.tableGroups.length;e++)this.tableGroups[e].setAttribute("role","rowgroup");for(var t=0;t<this.tableRows.length;t++)this.tableRows[t].setAttribute("role","row");for(var o=0;o<this.tableHeaderCells.length;o++)this.tableHeaderCells[o].setAttribute("role","columnheader");for(var n=0;n<this.tableDataCells.length;n++)this.tableDataCells[n].setAttribute("role","cell")}}]),s}(),i.TabList=function(){function s(e,t){l(this,s),this.options=Object.assign({onChange:function(){},orientation:"horizontal",disableActiveTab:!1},t),this.tablistNode=e,this.init()}return d(s,[{key:"init",value:function(){this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.activeTabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]:not([disabled])")),this.tabpanels=[];for(var e=0;e<this.tabs.length;e+=1){var t=this.tabs[e],o=document.getElementById(t.getAttribute("aria-controls"));t.tabIndex=-1,t.setAttribute("aria-selected","false"),this.tabpanels.push(o),t.addEventListener("keydown",this.onKeydown.bind(this)),t.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=t),this.lastTab=t}this.setActiveTab(this.firstTab),this.findActiveTabs()}},{key:"refresh",value:function(){this.init()}},{key:"handleTabChange",value:function(e,t){this.setActiveTab(e),this.findActiveTabs();var o=this.tabs.indexOf(this.activeTab),n=this.tabs[o+1];n===void 0&&(n=this.activeTabs[0]),this.moveFocusToTab(n),this.options.onChange(t,this)}},{key:"findActiveTabs",value:function(){this.activeTabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]:not([disabled])")),this.firstActiveTab=null;for(var e=0;e<this.activeTabs.length;e+=1){var t=this.activeTabs[e];this.firstActiveTab||(this.firstActiveTab=t),this.lastActiveTab=t}this.options.disableActiveTab===!0&&this.activeTabs[0].removeAttribute("tabindex")}},{key:"setActiveTab",value:function(e){for(var t=0;t<this.tabs.length;t+=1){var o=this.tabs[t];e.id===o.id?(this.activeTab=this.tabs[t],o.setAttribute("aria-selected","true"),o.removeAttribute("tabindex"),this.tabpanels[t].removeAttribute("hidden"),this.options.disableActiveTab===!0&&(o.setAttribute("disabled",""),o.tabIndex=-1)):(o.setAttribute("aria-selected","false"),o.removeAttribute("disabled"),o.tabIndex=-1,this.tabpanels[t].setAttribute("hidden",""))}}},{key:"moveFocusToTab",value:function(e){e.focus()}},{key:"moveFocusToPreviousTab",value:function(e){var t=this.activeTabs.indexOf(e);e.id===this.firstActiveTab.id?this.moveFocusToTab(this.lastActiveTab):this.moveFocusToTab(this.activeTabs[t-1])}},{key:"moveFocusToNextTab",value:function(e){var t=this.activeTabs.indexOf(e);e.id===this.lastActiveTab.id?this.moveFocusToTab(this.firstActiveTab):this.moveFocusToTab(this.activeTabs[t+1])}},{key:"onKeydown",value:function(e){var t=e.currentTarget,o=!1;switch(e.key){case"ArrowLeft":this.options.orientation==="horizontal"&&(this.moveFocusToPreviousTab(t),o=!0);break;case"ArrowRight":this.options.orientation==="horizontal"&&(this.moveFocusToNextTab(t),o=!0);break;case"ArrowUp":this.options.orientation==="vertical"&&(this.moveFocusToPreviousTab(t),o=!0);break;case"ArrowDown":this.options.orientation==="vertical"&&(this.moveFocusToNextTab(t),o=!0);break;case"Home":this.moveFocusToTab(this.firstTab),o=!0;break;case"End":this.moveFocusToTab(this.lastTab),o=!0}o&&(e.stopPropagation(),e.preventDefault())}},{key:"onClick",value:function(e){this.handleTabChange(e.currentTarget,e)}}]),s}(),i.Tooltip=function(){function s(e,t){l(this,s);var o={onOpen:function(){},onClose:function(){},openClass:i.globalSettings.openClass,triggerNodeSelector:"[aria-labelledby]",tooltipNodeSelector:"[role=tooltip]",positionAttributeName:"f11y-tooltip-position",awaitCloseAnimation:!0,awaitOpenAnimation:!0};this.options=Object.assign(o,t),this.domNode=e,this.init()}return d(s,[{key:"init",value:function(){this.timer=0,this.triggerNode=this.domNode.querySelector(this.options.triggerNodeSelector),this.tooltipNode=this.domNode.querySelector(this.options.tooltipNodeSelector),this.tooltipPosition=this.getTooltipPosition(),this.onTooltipKeydownBound=this.onTooltipKeydown.bind(this),this.onBackgroundMousedownBound=this.onBackgroundMousedown.bind(this),this.domNode.addEventListener("mouseenter",this.openTooltip.bind(this)),this.domNode.addEventListener("touchstart",this.openTooltip.bind(this)),this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.triggerNode.addEventListener("focusin",this.openTooltip.bind(this)),this.domNode.addEventListener("mouseleave",this.closeTooltip.bind(this)),this.domNode.addEventListener("touchend",this.closeTooltip.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),this.triggerNode.addEventListener("focusout",this.closeTooltip.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this))}},{key:"refresh",value:function(){this.init()}},{key:"isOpen",value:function(){return this.domNode.classList.contains(this.options.openClass)===!0}},{key:"openTooltip",value:function(){var e=this.domNode,t=this.tooltipNode,o=this.timer,n=this.options.openClass;t.classList.add(n),!this.isOpen()&&this.options.awaitOpenAnimation?(e.addEventListener("animationend",function a(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),e.classList.add(n),clearTimeout(o),e.removeEventListener("animationend",a)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)):(e.classList.add(n),clearTimeout(o)),this.checkBoundingBox(),this.addGlobalListeners()}},{key:"closeTooltip",value:function(){if(this.isOpen()){var e=this.domNode,t=this.tooltipNode,o=this.options.openClass;this.options.awaitCloseAnimation?this.timer=setTimeout(function(){e.addEventListener("animationend",function n(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),e.classList.remove(o),t.classList.remove(o),e.removeEventListener("animationend",n)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)},750):this.timer=setTimeout(function(){e.classList.remove(o),t.classList.remove(o)},750)}this.resetBoundingBox(),this.removeGlobalListeners()}},{key:"addGlobalListeners",value:function(){document.addEventListener("keydown",this.onTooltipKeydownBound),window.addEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"removeGlobalListeners",value:function(){document.removeEventListener("keydown",this.onTooltipKeydownBound),window.removeEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"onFocusin",value:function(){this.domNode.classList.add("focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("focus")}},{key:"onTooltipKeydown",value:function(e){var t=!1;switch(e.key){case"Escape":case"Esc":this.closeTooltip(),t=!0}t&&(e.stopPropagation(),e.preventDefault())}},{key:"onBackgroundMousedown",value:function(e){this.domNode.contains(e.target)||this.isOpen()&&this.closeTooltip()}},{key:"getTooltipPosition",value:function(){var e="bottom";return this.domNode.getAttribute(this.options.positionAttributeName)&&(e=this.domNode.getAttribute(this.options.positionAttributeName)),e}},{key:"checkBoundingBox",value:function(){var e=this.tooltipNode.getBoundingClientRect();this.checkHorizontalBounding(e),this.checkVerticalBounding(e)}},{key:"checkHorizontalBounding",value:function(e){var t=window.innerWidth;e.right>t&&e.left<0?console.warn("Tooltip width too wide for the window"):(e.right>t&&this.moveTooltipLeft(e,t),e.left<0&&this.moveTooltipRight(e))}},{key:"checkVerticalBounding",value:function(e){var t=window.innerHeight;e.bottom>t&&e.top<0?console.warn("Tooltip height too high for the window"):e.bottom>t?this.moveTooltipUp():e.top<0&&this.moveTooltipDown()}},{key:"moveTooltipUp",value:function(){this.domNode.setAttribute(this.options.positionAttributeName,"top")}},{key:"moveTooltipRight",value:function(e){var t=Math.floor(e.width/2);this.tooltipNode.style.left="".concat(t,"px")}},{key:"moveTooltipDown",value:function(){this.domNode.setAttribute(this.options.positionAttributeName,"bottom")}},{key:"moveTooltipLeft",value:function(e,t){var o=t-Math.round(e.right)-Math.round(e.width)/1.6;this.tooltipNode.style.transform="translateX(".concat(o,"px)")}},{key:"resetBoundingBox",value:function(){(this.tooltipNode.style.left||this.tooltipNode.style.transform)&&(this.tooltipNode.style.left=null,this.tooltipNode.style.transform=null),this.domNode.setAttribute(this.options.positionAttributeName,this.tooltipPosition)}}]),s}(),typeof window<"u"&&(window.f11y=i);var p=document.querySelectorAll(".f11y--tabs--code");p.forEach(function(s){let e=new i.TabList(s,{onChange:()=>{},orientation:"horizontal",disableActiveTab:!0})});var b=document.querySelector(".f11y--accordion--default");new i.Accordion(b);var v=document.querySelector(".f11y--accordion--callback"),u=new i.Accordion(v,{showMultiple:!1,onOpen:function(s,e){let t=s.index,o=document.querySelector('.external-callback-trigger[data-index="'+t+'"]');o.classList.add("is-open"),o.classList.remove("is-closed")},onClose:function(s,e){let t=s.index,o=document.querySelector('.external-callback-trigger[data-index="'+t+'"]');o.classList.add("is-closed"),o.classList.remove("is-open")}}),f=document.querySelectorAll(".external-callback-trigger");f.forEach(function(s){let e=u.accordionItems[s.dataset.index];s.addEventListener("click",function(t){u.toggle(e,t)})});var g=document.querySelectorAll(".f11y--table");g.forEach(function(s){let e=new i.Table(s);console.log(e)});var y=document.querySelector("#layer-default");new i.Layer(y,{onOpen:(s,e)=>{console.log(s,e)},onClose:(s,e)=>{console.log(s,e)}});})();
//# sourceMappingURL=app.min.js.map
