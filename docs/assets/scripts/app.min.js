(()=>{var o=o||{},J=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;i.settings={initialisedClass:"has-initialised",openClass:"is-open",animatingClass:"is-animating",animatingOpenClass:"is-opening",animatingCloseClass:"is-closing",awaitOpenAnimation:!1,awaitCloseAnimation:!1}},Q=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;i.focusableElements=['a[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','area[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','input:not([disabled]):not([type="hidden"]):not([aria-hidden]):not([tabindex^="-"])','select:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','textarea:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','button:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','iframe:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','object:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','embed:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[contenteditable]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])']};function O(s,i){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);i&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),e.push.apply(e,t)}return e}function k(s){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{};i%2?O(Object(e),!0).forEach(function(t){Y(s,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach(function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(e,t))})}return s}function X(s,i){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var t=e.call(s,i||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function G(s){var i=X(s,"string");return typeof i=="symbol"?i:String(i)}function g(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function S(s,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,G(t.key),t)}}function b(s,i,e){return i&&S(s.prototype,i),e&&S(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function Y(s,i,e){return i=G(i),i in s?Object.defineProperty(s,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[i]=e,s}function d(s,i,e){if(!i.has(s))throw new TypeError("attempted to get private field on non-instance");return e}function Z(s,i){if(i.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(s,i){Z(s,i),i.add(s)}var ee=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;i.store={activeLayers:[],activeLayer:""}},p=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;return k({},i.store)},T=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;e.store=k(k({},e.store),i)},y=function(i){return typeof i<"u"&&i!==null},te=function(){function s(i,e){g(this,s);var t={onOpen:function(){},onClose:function(){},itemSelector:"[f11y-accordion-item]",showMultiple:!0};this.options=Object.assign(t,e),this.domNode=i,this.init()}return b(s,[{key:"init",value:function(){var e=this;this.items=[],this.toggleBound=this.toggle.bind(this),this.toggleHandlers=[];for(var t=Array.from(this.domNode.querySelectorAll(this.options.itemSelector)),n=function(){var l=t[a],c=t[a].querySelector("[aria-controls]");if(y(c)===!1)return console.warn("Trigger is not defined in"+t[a]),0;var f=document.getElementById(c.getAttribute("aria-controls"));if(y(f)===!1)return console.warn("Panel is not defined in"+t[a]),0;var m=e.initItem(l,c,f,a),w=function(V){return e.toggle(m,V)};c.addEventListener("click",w),e.toggleHandlers.push(w)},r,a=0;a<t.length;a+=1)r=n();this.domNode.classList.add(o.settings.initialisedClass)}},{key:"initItem",value:function(e,t,n,r){var a={index:r,item:e,panel:n,trigger:t,isOpen:t.getAttribute("aria-expanded")};return a.isOpen==="true"?n.removeAttribute("hidden"):n.setAttribute("hidden",""),this.items.push(a),a}},{key:"destroy",value:function(){for(var e=0;e<this.toggleHandlers.length;e++){var t=this.items[e].trigger,n=this.toggleHandlers[e];t.removeEventListener("click",n)}this.items=[],this.toggleHandlers=[],this.domNode.classList.remove(o.settings.initialisedClass)}},{key:"toggle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.options.showMultiple===!1&&this.closeAll(t),e.isOpen==="false"){this.openItem(e,t);return}if(e.isOpen==="true"){this.closeItem(e,t);return}}},{key:"closeAll",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=0;t<this.items.length;t+=1)this.items[t].isOpen=="true"&&this.closeItem(this.items[t],e)}},{key:"openAll",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.showMultiple!==!1)for(var t=0;t<this.items.length;t+=1)this.openItem(this.items[t],e)}},{key:"openItem",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.isOpen!=="true"&&(e.panel.removeAttribute("hidden"),e.trigger.setAttribute("aria-expanded","true"),e.isOpen="true",this.options.onOpen(e,this,t))}},{key:"closeItem",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.isOpen!=="false"&&(e.panel.setAttribute("hidden",""),e.trigger.setAttribute("aria-expanded","false"),e.isOpen="false",this.options.onClose(e,this,t))}}]),s}(),E=new WeakSet,L=new WeakSet,A=new WeakSet,x=new WeakSet,B=new WeakSet,F=new WeakSet,N=new WeakSet,I=new WeakSet,P=new WeakSet,C=new WeakSet,D=new WeakSet,ie=function(){function s(i,e){g(this,s),u(this,D),u(this,C),u(this,P),u(this,I),u(this,N),u(this,F),u(this,B),u(this,x),u(this,A),u(this,L),u(this,E);var t={onOpen:function(){},onClose:function(){},openClass:o.settings.openClass,focusableElements:o.focusableElements,triggerSelector:"[aria-controls]",updateOnSelect:!1,updateSelector:null,closeOnBackgroundClick:!0,closeOnSelect:!1,arrowNavigation:!0,tabNavigation:!1,awaitOpenAnimation:!1,awaitCloseAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.init()}return b(s,[{key:"init",value:function(){if(this.dropdownItems=[],this.firstChars=[],this.triggerElm=this.domNode.querySelector(this.options.triggerSelector),y(this.triggerElm)===!1){console.warn("Trigger element does not exist");return}if(this.dropdownElm=document.getElementById(this.triggerElm.getAttribute("aria-controls")),y(this.dropdownElm)===!1){console.warn("Dropdown element does not exist");return}this.triggerElm.addEventListener("keydown",d(this,F,oe).bind(this)),this.triggerElm.addEventListener("click",d(this,N,ae).bind(this)),this.options.updateSelector?this.options.updateSelector:this.options.triggerSelector,this.updateTargetNode=document.querySelector(this.options.updateSelector);for(var e=Array.from(this.dropdownElm.querySelectorAll(this.options.focusableElements)),t=0;t<e.length;t++)this.dropdownItems.push(e[t]),e[t].tabIndex=-1,this.firstChars.push(e[t].textContent.trim()[0].toLowerCase()),e[t].addEventListener("keydown",d(this,I,re).bind(this)),e[t].addEventListener("mouseover",d(this,P,le).bind(this)),this.options.updateOnSelect===!0&&e[t].addEventListener("click",d(this,C,U).bind(this)),this.firstItem||(this.firstItem=e[t]),this.lastItem=e[t];this.domNode.addEventListener("focusin",d(this,x,se).bind(this)),this.domNode.addEventListener("focusout",d(this,B,ne).bind(this)),window.addEventListener("mousedown",d(this,D,de).bind(this),!0),window.addEventListener("resize",this.checkBoundingBox.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),this.domNode.classList.add(o.settings.initialisedClass)}},{key:"destroy",value:function(){}},{key:"isOpen",value:function(){return this.triggerElm.getAttribute("aria-expanded")==="true"}},{key:"setFocusToItem",value:function(e){this.dropdownItems.forEach(function(t){t===e?(t.tabIndex=0,e.focus()):t.tabIndex=-1})}},{key:"setFocusToFirstItem",value:function(){this.setFocusToItem(this.firstItem)}},{key:"setFocusToLastItem",value:function(){this.setFocusToItem(this.lastItem)}},{key:"openDropdown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.domNode,n=this.dropdownElm,r=this.triggerElm,a=this.options.openClass,h=o.settings.animatingClass,l=o.settings.animatingOpenClass;if(r.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),t.classList.add(a),this.options.awaitOpenAnimation){var c=function f(){var m=window.getComputedStyle(t);m.animationName==="none"&&(t.classList.remove(h,l),t.removeEventListener("animationend",f))};t.addEventListener("animationend",c),t.classList.add(h,l)}this.options.onOpen(this,e)}},{key:"closeDropdown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.isOpen()){var t=this.domNode,n=this.dropdownElm,r=this.triggerElm,a=this.options.openClass,h=o.settings.animatingClass,l=o.settings.animatingCloseClass;if(n.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation){var c=function f(){var m=window.getComputedStyle(t);m.animationName==="none"&&(t.classList.remove(h,l),t.classList.remove(a),t.removeEventListener("animationend",f))};t.addEventListener("animationend",c),t.classList.add(l,l)}else t.classList.remove(a);r.removeAttribute("aria-expanded"),this.options.onClose(this,e)}this.resetBoundingBox()}},{key:"checkBoundingBox",value:function(){var e=this.dropdownElm.getBoundingClientRect();if(e.bottom>window.innerHeight){this.domNode.classList.add("out-of-bounds--bottom"),this.domNode.classList.remove("out-of-bounds--top");return}if(e.top<0){this.domNode.classList.add("out-of-bounds--top"),this.domNode.classList.remove("out-of-bounds--bottom");return}}},{key:"resetBoundingBox",value:function(){this.domNode.classList.remove("out-of-bounds--top","out-of-bounds--bottom")}}]),s}();function _(s){var i,e;return s===this.firstItem?i=this.lastItem:(e=this.dropdownItems.indexOf(s),i=this.dropdownItems[e-1]),this.setFocusToItem(i),i}function q(s){var i,e;return s===this.lastItem?i=this.firstItem:(e=this.dropdownItems.indexOf(s),i=this.dropdownItems[e+1]),this.setFocusToItem(i),i}function j(s,i){if(!(i.length>1)){var e,t;i=i.toLowerCase(),e=this.dropdownItems.indexOf(s)+1,e>=this.dropdownItems.length&&(e=0),t=this.firstChars.indexOf(i,e),t===-1&&(t=this.firstChars.indexOf(i,0)),t>-1&&this.setFocusToItem(this.dropdownItems[t])}}function se(){this.domNode.classList.add("has-focus")}function ne(){this.domNode.classList.remove("has-focus")}function oe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=s.key,e=!1;switch(i){case" ":case"Enter":case"ArrowDown":case"Down":this.openDropdown(s),this.checkBoundingBox(),this.setFocusToFirstItem(),e=!0;break;case"Esc":case"Escape":this.isOpen()?(this.closeDropdown(s),this.triggerElm.focus(),e=!0):e=!1;break;case"Up":case"ArrowUp":this.openDropdown(s),this.checkBoundingBox(),this.setFocusToLastItem(),e=!0;break;case"Tab":this.isOpen()&&this.closeDropdown(s),e=!1;break}e&&(s.stopPropagation(),s.preventDefault())}function ae(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.isOpen()?(this.closeDropdown(s),this.triggerElm.focus()):(this.openDropdown(s),this.checkBoundingBox(),this.setFocusToFirstItem()),s.stopPropagation(),s.preventDefault()}function re(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=s.currentTarget,e=s.key,t=!1;function n(r){return r.length===1&&r.match(/\S/)}if(!(s.ctrlKey||s.altKey||s.metaKey)){if(s.shiftKey)n(e)&&(d(this,A,j).call(this,i,e),t=!0),s.key==="Tab"&&(this.options.tabNavigation?d(this,E,_).call(this,i):(this.triggerElm.focus(),this.closeDropdown(s)),t=!0);else switch(e){case" ":window.location.href=i.href;break;case"Esc":case"Escape":this.closeDropdown(s),this.triggerElm.focus(),t=!0;break;case"Up":case"ArrowUp":this.options.arrowNavigation&&d(this,E,_).call(this,i),t=!0;break;case"ArrowDown":case"Down":this.options.arrowNavigation&&d(this,L,q).call(this,i),t=!0;break;case"Home":case"PageUp":this.setFocusToFirstItem(),t=!0;break;case"End":case"PageDown":this.setFocusToLastItem(),t=!0;break;case"Tab":this.options.tabNavigation?d(this,L,q).call(this,i):(this.closeDropdown(s),this.triggerElm.focus()),t=!0;break;case"Enter":d(this,C,U).call(this,s);break;default:n(e)&&(d(this,A,j).call(this,i,e),t=!0);break}t&&(s.stopPropagation(),s.preventDefault())}}function le(s){var i=s.currentTarget;i.focus()}function U(s){if(this.options.updateOnSelect===!0){var i=s.currentTarget.textContent;this.updateTargetNode.textContent=i,this.updateTargetNode.value=i}this.options.closeOnSelect===!0&&this.closeDropdown(s)}function de(s){!this.domNode.contains(s.target)&&this.options.closeOnBackgroundClick&&this.isOpen()&&(this.closeDropdown(s),this.triggerElm.focus())}var z=new WeakSet,R=new WeakSet,M=new WeakSet,H=new WeakSet,ue=function(){function s(i,e){g(this,s),u(this,H),u(this,M),u(this,R),u(this,z);var t={onOpen:function(){},onClose:function(){},openTriggerAttribute:"f11y-layer-open",closeTriggerAttribute:"f11y-layer-close",openClass:o.settings.openClass,focusableElements:o.focusableElements,disableScroll:!0,closeOnBackgroundClick:!0,closeOnEscClick:!0,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.id="",this.init()}return b(s,[{key:"init",value:function(){if(this.id=this.domNode.id,this.dialog=this.domNode.querySelector('[role="dialog"]'),this.triggerElms=document.querySelectorAll("["+this.options.openTriggerAttribute+'="'+this.id+'"]'),this.closeElms=document.querySelectorAll("["+this.options.closeTriggerAttribute+'="'+this.id+'"]'),this.focusableElms=Array.from(this.domNode.querySelectorAll(this.options.focusableElements)),y(this.dialog)===!1){console.warn("Dialog element is not defined in passsed domNode");return}this.filterFocusableElms(),this.openLayerBound=this.openLayer.bind(this);for(var e=0;e<this.triggerElms.length;e++)this.triggerElms[e].addEventListener("click",this.openLayerBound,!0);for(var t=0;t<this.closeElms.length;t++)this.closeElms[t].addEventListener("click",this.closeLayer.bind(this),!0);for(var n=0;n<this.focusableElms.length;n++)this.firstElm||(this.firstElm=this.focusableElms[n]),this.lastElm=this.focusableElms[n];this.onBackgroundMousedownBound=d(this,H,me).bind(this),this.onWindowKeydownBound=d(this,M,fe).bind(this),this.domNode.classList.add(o.settings.initialisedClass)}},{key:"refresh",value:function(){this.domNode.setAttribute("aria-hidden","true"),this.dialog.setAttribute("aria-modal","true"),this.dialog.setAttribute("role","dialog"),this.init()}},{key:"destroy",value:function(){this.closeLayer(),this.domNode.removeAttribute("aria-hidden"),this.dialog.removeAttribute("aria-modal"),this.dialog.removeAttribute("role"),this.domNode.classList.remove(o.settings.initialisedClass);for(var e=0;e<this.triggerElms.length;e++)this.triggerElms[e].removeEventListener("click",this.openLayerBound,!0)}},{key:"filterFocusableElms",value:function(){for(var e=this.focusableElms.length;e--;){var t=this.focusableElms[e],n=t.closest("[aria-hidden]");n!=this.domNode&&this.focusableElms.splice(e,1)}}},{key:"isOpen",value:function(){return this.domNode.getAttribute("aria-hidden")==="false"}},{key:"setFocusToElm",value:function(e){e.focus()}},{key:"setFocusToFirstElm",value:function(){this.setFocusToElm(this.firstElm)}},{key:"setFocusToLastElm",value:function(){this.setFocusToElm(this.lastElm)}},{key:"openLayer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.activeElm=document.activeElement;var t=this.domNode,n=document.querySelector("body"),r=this.options.openClass,a=o.settings.animatingClass,h=o.settings.animatingOpenClass;if(t.setAttribute("aria-hidden","false"),t.classList.add(r),this.options.disableScroll&&n.style.setProperty("overflow","hidden"),this.options.awaitOpenAnimation){var l=function f(){var m=window.getComputedStyle(t);m.animationName==="none"&&(t.classList.remove(a,h),t.removeEventListener("animationend",f))};t.addEventListener("animationend",l),t.classList.add(a,h)}this.setFocusToFirstElm(),this.addGlobalListeners(),T({activeLayer:this.id});var c=p(o).activeLayers;c.push(this.id),T({activeLayers:c}),this.options.onOpen(this,e)}},{key:"closeLayer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.isOpen()){if(this.id!=p(o).activeLayer)return;var t=this.domNode,n=document.querySelector("body"),r=this.options.openClass,a=o.settings.animatingClass,h=o.settings.animatingCloseClass,l=p(o).activeLayers,c=l.indexOf(this.id);if(l.splice(c,1),T({activeLayer:l[l.length-1]}),T({activeLayers:l}),t.setAttribute("aria-hidden","true"),this.activeElm&&this.activeElm.focus&&this.activeElm.focus(),this.options.awaitCloseAnimation){var f=function m(){var w=window.getComputedStyle(t);w.animationName==="none"&&(t.classList.remove(a,h),t.classList.remove(r),p(o).activeLayers<=0&&n.style.removeProperty("overflow"),t.removeEventListener("animationend",m))};t.addEventListener("animationend",f),t.classList.add(a,h)}else t.classList.remove(r),p(o).activeLayers<=0&&n.style.removeProperty("overflow")}this.removeGlobalListeners(),this.options.onClose(this,e)}},{key:"addGlobalListeners",value:function(){window.addEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.addEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"removeGlobalListeners",value:function(){window.removeEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.removeEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"closeLayerById",value:function(e){this.id===e&&this.closeLayer()}}]),s}();function he(s){var i;if(s===this.firstElm)i=this.lastElm;else{var e=this.focusableElms.indexOf(s);i=this.focusableElms[e-1]}return this.setFocusToElm(i),i}function ce(s){var i;if(s===this.lastElm)i=this.firstElm;else{var e=this.focusableElms.indexOf(s);i=this.focusableElms[e+1]}return this.setFocusToElm(i),i}function fe(s){var i=!1,e=s.target||s.currentTarget;if(s.shiftKey)s.key==="Tab"&&(d(this,z,he).call(this,e),i=!0);else switch(s.key){case"Escape":case"Esc":this.options.closeOnEscClick?(this.closeLayer(s),i=!0):i=!1;break;case"Tab":d(this,R,ce).call(this,e),i=!0;break;case"Home":case"PageUp":this.setFocusToFirstElm(),i=!0;break;case"End":case"PageDown":this.setFocusToLastElm(),i=!0;break}i&&(s.stopPropagation(),s.preventDefault())}function me(s){this.dialog.contains(s.target)||this.isOpen()&&(this.closeLayer(s),this.activeElm.focus())}var ve=function(){function s(i){g(this,s),this.domNode=i,this.init()}return b(s,[{key:"init",value:function(){this.tableId=this.domNode.getAttribute("id"),this.tableGroups=Array.from(this.domNode.querySelectorAll("thead, tbody, tfoot")),this.tableRows=Array.from(this.domNode.querySelectorAll("tr")),this.tableHeaderCells=Array.from(this.domNode.querySelectorAll("th")),this.tableDataCells=Array.from(this.domNode.querySelectorAll("td")),this.styleElm=document.createElement("style"),document.head.appendChild(this.styleElm),this.stylesheet=this.styleElm.sheet,this.insertCellHeaders(),this.insertTableAria(),this.domNode.classList.add(o.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"insertCellHeaders",value:function(){for(var e=0;e<this.tableHeaderCells.length;e+=1)this.stylesheet.insertRule("#"+this.tableId+" td:nth-child("+(e+1)+")::before {content:'"+this.tableHeaderCells[e].innerText+"';}",this.stylesheet.cssRules.length)}},{key:"insertTableAria",value:function(){this.domNode.setAttribute("role","table");for(var e=0;e<this.tableGroups.length;e++)this.tableGroups[e].setAttribute("role","rowgroup");for(var t=0;t<this.tableRows.length;t++)this.tableRows[t].setAttribute("role","row");for(var n=0;n<this.tableHeaderCells.length;n++)this.tableHeaderCells[n].setAttribute("role","columnheader");for(var r=0;r<this.tableDataCells.length;r++)this.tableDataCells[r].setAttribute("role","cell")}}]),s}(),ge=function(){function s(i,e){g(this,s);var t={onChange:function(){},orientation:"horizontal",disableActiveTab:!1,changeOnNavigation:!0};this.options=Object.assign(t,e),this.domNode=i,this.init()}return b(s,[{key:"init",value:function(){this.tabs=Array.from(this.domNode.querySelectorAll("[role=tab]")),this.activeTabs=Array.from(this.domNode.querySelectorAll("[role=tab]:not([disabled])")),this.tabpanels=[];for(var e=0;e<this.tabs.length;e+=1){var t=this.tabs[e],n=document.getElementById(t.getAttribute("aria-controls"));t.tabIndex=-1,!this.selected&&t.getAttribute("aria-selected")==="true"?this.selected=t:t.setAttribute("aria-selected","false"),this.tabpanels.push(n),t.addEventListener("keydown",this.onKeydown.bind(this)),t.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=t),this.lastTab=t}this.selected?this.setSelectedTab(this.selected):this.setSelectedTab(this.firstTab),this.domNode.classList.add(o.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"handleTabChange",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.setSelectedTab(e),this.options.onChange(this,t)}},{key:"setActiveTabs",value:function(){this.activeTabs=Array.from(this.domNode.querySelectorAll("[role=tab]:not([disabled])")),this.firstActiveTab=null;for(var e=0;e<this.activeTabs.length;e+=1){var t=this.activeTabs[e];this.firstActiveTab||(this.firstActiveTab=t),this.lastActiveTab=t}this.nextTab=this.getNextTab(),this.prevTab=this.getPrevTab()}},{key:"setSelectedTab",value:function(e){for(var t=0;t<this.tabs.length;t+=1){var n=this.tabs[t];e.id===n.id?(this.selected=this.tabs[t],n.setAttribute("aria-selected","true"),n.removeAttribute("tabindex"),this.tabpanels[t].removeAttribute("hidden"),this.options.disableActiveTab===!0&&(n.setAttribute("disabled",""),n.tabIndex=-1)):(n.setAttribute("aria-selected","false"),n.removeAttribute("disabled"),n.tabIndex=-1,this.tabpanels[t].setAttribute("hidden",""))}this.setActiveTabs()}},{key:"getNextTab",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t,n,r=e??this.selected;this.options.disableActiveTab?n=this.activeTabs:n=this.tabs;var a=n.indexOf(r);return r.id===this.lastActiveTab.id?t=this.firstActiveTab:t=n[a+1],t}},{key:"getPrevTab",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t,n,r=e??this.selected;this.options.disableActiveTab?n=this.activeTabs:n=this.tabs;var a=n.indexOf(r);return r.id===this.firstActiveTab.id?t=this.lastActiveTab:t=n[a-1],t}},{key:"moveFocusToTab",value:function(e){e.focus()}},{key:"onKeydown",value:function(e){var t=e.currentTarget,n=this.options.changeOnNavigation,r=this.options.orientation,a=!1;switch(e.key){case"ArrowLeft":r==="horizontal"&&(n?(this.handleTabChange(this.prevTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getPrevTab(t)),a=!0);break;case"ArrowRight":r==="horizontal"&&(n?(this.handleTabChange(this.nextTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getNextTab(t)),a=!0);break;case"ArrowUp":r==="vertical"&&(n?(this.handleTabChange(this.prevTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getPrevTab(t)),a=!0);break;case"ArrowDown":r==="vertical"&&(n?(this.handleTabChange(this.nextTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getNextTab(t)),a=!0);break;case"Home":n?(this.handleTabChange(this.firstActiveTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.firstActiveTab),a=!0;break;case"End":n?(this.handleTabChange(this.lastActiveTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.lastActiveTab),a=!0;break}a&&(e.stopPropagation(),e.preventDefault())}},{key:"onClick",value:function(e){this.handleTabChange(e.currentTarget,e),this.moveFocusToTab(this.nextTab)}}]),s}(),K=new WeakSet,W=new WeakSet,be=function(){function s(i,e){g(this,s),u(this,W),u(this,K);var t={onOpen:function(){},onClose:function(){},positionAttributeName:"f11y-tooltip-position",openClass:o.settings.openClass,leewayTiming:750,delayTiming:500,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.init()}return b(s,[{key:"init",value:function(){this.leeway=0,this.delay=0,this.trigger=this.domNode.querySelector("[aria-labelledby]"),this.tooltip=this.domNode.querySelector("[role=tooltip]"),this.tooltipPos=this.getTooltipPos(),this.onTooltipKeydownBound=d(this,K,pe).bind(this),this.onBackgroundMousedownBound=d(this,W,ye).bind(this),this.domNode.addEventListener("mouseenter",this.openTooltip.bind(this)),this.trigger.addEventListener("touchstart",this.openTooltip.bind(this)),this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.trigger.addEventListener("focusin",this.openTooltip.bind(this)),this.domNode.addEventListener("mouseleave",this.closeTooltip.bind(this)),this.domNode.addEventListener("touchend",this.closeTooltip.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),this.trigger.addEventListener("focusout",this.closeTooltip.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this)),this.domNode.classList.add(o.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"isOpen",value:function(){return this.domNode.classList.contains(this.options.openClass)===!0}},{key:"openTooltip",value:function(){var e=this.domNode,t=this.tooltip,n=this.options.openClass,r=o.settings.animatingClass,a=o.settings.animatingOpenClass;if(!this.isOpen()&&this.options.awaitOpenAnimation){var h=function l(){e.classList.remove(r,a),e.classList.add(n),t.classList.add(n),clearTimeout(this.leeway),e.removeEventListener("animationend",l)};e.addEventListener("animationend",h),e.classList.add(r,a)}else e.classList.add(n),t.classList.add(n),clearTimeout(this.leeway);this.checkBoundingBox(),this.addGlobalListeners()}},{key:"closeTooltip",value:function(){if(this.isOpen()){var e=this.domNode,t=this.tooltip,n=this.options.openClass,r=this.options.leewayTiming,a=o.settings.animatingClass,h=o.settings.animatingCloseClass;this.options.awaitCloseAnimation?this.leeway=setTimeout(function(){e.addEventListener("animationend",l),e.classList.add(a,h);function l(){e.classList.remove(a,h),e.classList.remove(n),t.classList.remove(n),e.removeEventListener("animationend",l)}},r):this.leeway=setTimeout(function(){e.classList.remove(n),t.classList.remove(n)},r)}this.resetBoundingBox(),this.removeGlobalListeners()}},{key:"addGlobalListeners",value:function(){document.addEventListener("keydown",this.onTooltipKeydownBound),window.addEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"removeGlobalListeners",value:function(){document.removeEventListener("keydown",this.onTooltipKeydownBound),window.removeEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"onFocusin",value:function(){this.domNode.classList.add("has-focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("has-focus")}},{key:"getTooltipPos",value:function(){var e="bottom";return this.domNode.getAttribute(this.options.positionAttributeName)&&(e=this.domNode.getAttribute(this.options.positionAttributeName)),e}},{key:"checkBoundingBox",value:function(){var e=this.tooltip.getBoundingClientRect();this.checkHorizontalBounding(e),this.checkVerticalBounding(e)}},{key:"checkHorizontalBounding",value:function(e){var t=window.innerWidth,n;if(e.right>t&&e.left<0){console.warn("Tooltip width too wide for the window");return}e.right>t&&(n=t-Math.round(e.right)-Math.round(e.width)/1.6,this.domNode.style.setProperty("--f11y-tooltip-offset",n)),e.left<0&&(n=Math.floor(e.width/2),this.domNode.style.setProperty("--f11y-tooltip-offset",n))}},{key:"checkVerticalBounding",value:function(e){var t=window.innerHeight;if(e.bottom>t&&e.top<0){console.warn("Tooltip height too high for the window");return}if(e.bottom>t){this.domNode.setAttribute(this.options.positionAttributeName,"top");return}if(e.top<0){this.domNode.setAttribute(this.options.positionAttributeName,"bottom");return}}},{key:"resetBoundingBox",value:function(){this.domNode.style.removeProperty("--f11y-tooltip-offset"),this.domNode.setAttribute(this.options.positionAttributeName,this.tooltipPos)}}]),s}();function pe(s){var i=s.key,e=!1;switch(i){case"Escape":case"Esc":this.closeTooltip(),e=!0;break}e&&(s.stopPropagation(),s.preventDefault())}function ye(s){this.domNode.contains(s.target)||this.isOpen()&&this.closeTooltip()}Q();J();ee();typeof o<"u"&&(o.Accordion=te,o.Dropdown=ie,o.Layer=ue,o.Table=ve,o.TabList=ge,o.Tooltip=be);typeof window<"u"&&(window.f11y=o);console.log(void 0);var we=document.querySelectorAll(".f11y--tabs--code");we.forEach(function(s){let i=new(void 0).TabList(s,{onChange:()=>{},orientation:"horizontal",disableActiveTab:!0})});var Te=document.querySelector(".f11y--accordion--default");new(void 0).Accordion(Te);var ke=document.querySelector(".f11y--accordion--callback"),$=new(void 0).Accordion(ke,{showMultiple:!1,onOpen:function(s,i){let e=s.index,t=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');t.classList.add("is-open"),t.classList.remove("is-closed")},onClose:function(s,i){let e=s.index,t=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');t.classList.add("is-closed"),t.classList.remove("is-open")}}),Ee=document.querySelectorAll(".external-callback-trigger");Ee.forEach(function(s){let i=$.items[s.dataset.index];s.addEventListener("click",function(e){$.toggle(i,e)})});var Le=document.querySelectorAll(".f11y--table");Le.forEach(function(s){let i=new(void 0).Table(s)});var Ae=document.querySelector("#layer-default");new(void 0).Layer(Ae,{closeOnBackgroundClick:!0,awaitCloseAnimation:!0,awaitOpenAnimation:!0});var Ce=document.querySelector("#layer-alert");new(void 0).Layer(Ce,{closeOnBackgroundClick:!1,awaitCloseAnimation:!0,awaitOpenAnimation:!0});})();
//# sourceMappingURL=app.min.js.map
