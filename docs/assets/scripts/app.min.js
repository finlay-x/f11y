(()=>{function V(s,i){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var t=e.call(s,i||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function J(s){var i=V(s,"string");return typeof i=="symbol"?i:String(i)}function b(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function C(s,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,J(t.key),t)}}function p(s,i,e){return i&&C(s.prototype,i),e&&C(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function r(s,i,e){if(!i.has(s))throw new TypeError("attempted to get private field on non-instance");return e}function Q(s,i){if(i.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(s,i){Q(s,i),i.add(s)}var w=function(i){return typeof i<"u"&&i!==null},x,X=function(){function s(i,e){b(this,s);var t={onOpen:function(){},onClose:function(){},itemSelector:"[f11y-accordion-item]",showMultiple:!0};this.options=Object.assign(t,e),this.domNode=i,this.init()}return p(s,[{key:"init",value:function(){var e=this;this.items=[],this.toggleBound=this.toggle.bind(this),this.toggleHandlers=[];for(var t=Array.from(this.domNode.querySelectorAll(this.options.itemSelector)),n=function(){var l=t[o],c=t[o].querySelector("[aria-controls]");if(w(c)===!1)return console.warn("Trigger is not defined in"+t[o]),0;var f=document.getElementById(c.getAttribute("aria-controls"));if(w(f)===!1)return console.warn("Panel is not defined in"+t[o]),0;var m=e.initItem(l,c,f,o),T=function(R){return e.toggle(m,R)};c.addEventListener("click",T),e.toggleHandlers.push(T)},a,o=0;o<t.length;o+=1)a=n();this.domNode.classList.add(x.settings.initialisedClass)}},{key:"initItem",value:function(e,t,n,a){var o={index:a,item:e,panel:n,trigger:t,isOpen:t.getAttribute("aria-expanded")};return o.isOpen==="true"?n.removeAttribute("hidden"):n.setAttribute("hidden",""),this.items.push(o),o}},{key:"destroy",value:function(){for(var e=0;e<this.toggleHandlers.length;e++){var t=this.items[e].trigger,n=this.toggleHandlers[e];t.removeEventListener("click",n)}this.items=[],this.toggleHandlers=[],this.domNode.classList.remove(x.settings.initialisedClass)}},{key:"toggle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.options.showMultiple===!1&&this.closeAll(t),e.isOpen==="false"){this.openItem(e,t);return}if(e.isOpen==="true"){this.closeItem(e,t);return}}},{key:"closeAll",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=0;t<this.items.length;t+=1)this.items[t].isOpen=="true"&&this.closeItem(this.items[t],e)}},{key:"openAll",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.showMultiple!==!1)for(var t=0;t<this.items.length;t+=1)this.openItem(this.items[t],e)}},{key:"openItem",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.isOpen!=="true"&&(e.panel.removeAttribute("hidden"),e.trigger.setAttribute("aria-expanded","true"),e.isOpen="true",this.options.onOpen(e,this,t))}},{key:"closeItem",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.isOpen!=="false"&&(e.panel.setAttribute("hidden",""),e.trigger.setAttribute("aria-expanded","false"),e.isOpen="false",this.options.onClose(e,this,t))}}]),s}(),v,k=new WeakSet,E=new WeakSet,L=new WeakSet,O=new WeakSet,B=new WeakSet,S=new WeakSet,N=new WeakSet,F=new WeakSet,I=new WeakSet,A=new WeakSet,D=new WeakSet,Y=function(){function s(i,e){b(this,s),d(this,D),d(this,A),d(this,I),d(this,F),d(this,N),d(this,S),d(this,B),d(this,O),d(this,L),d(this,E),d(this,k);var t={onOpen:function(){},onClose:function(){},openClass:v.settings.openClass,focusableElements:v.focusableElements,triggerSelector:"[aria-controls]",updateOnSelect:!1,updateSelector:null,closeOnBackgroundClick:!0,closeOnSelect:!1,arrowNavigation:!0,tabNavigation:!1,awaitOpenAnimation:!1,awaitCloseAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.init()}return p(s,[{key:"init",value:function(){if(this.dropdownItems=[],this.firstChars=[],this.triggerElm=this.domNode.querySelector(this.options.triggerSelector),w(this.triggerElm)===!1){console.warn("Trigger element does not exist");return}if(this.dropdownElm=document.getElementById(this.triggerElm.getAttribute("aria-controls")),w(this.dropdownElm)===!1){console.warn("Dropdown element does not exist");return}this.triggerElm.addEventListener("keydown",r(this,S,te).bind(this)),this.triggerElm.addEventListener("click",r(this,N,ie).bind(this)),this.options.updateSelector?this.options.updateSelector:this.options.triggerSelector,this.updateTargetNode=document.querySelector(this.options.updateSelector);for(var e=Array.from(this.dropdownElm.querySelectorAll(this.options.focusableElements)),t=0;t<e.length;t++)this.dropdownItems.push(e[t]),e[t].tabIndex=-1,this.firstChars.push(e[t].textContent.trim()[0].toLowerCase()),e[t].addEventListener("keydown",r(this,F,se).bind(this)),e[t].addEventListener("mouseover",r(this,I,ne).bind(this)),this.options.updateOnSelect===!0&&e[t].addEventListener("click",r(this,A,G).bind(this)),this.firstItem||(this.firstItem=e[t]),this.lastItem=e[t];this.domNode.addEventListener("focusin",r(this,O,Z).bind(this)),this.domNode.addEventListener("focusout",r(this,B,ee).bind(this)),window.addEventListener("mousedown",r(this,D,oe).bind(this),!0),window.addEventListener("resize",this.checkBoundingBox.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),this.domNode.classList.add(v.settings.initialisedClass)}},{key:"destroy",value:function(){}},{key:"isOpen",value:function(){return this.triggerElm.getAttribute("aria-expanded")==="true"}},{key:"setFocusToItem",value:function(e){this.dropdownItems.forEach(function(t){t===e?(t.tabIndex=0,e.focus()):t.tabIndex=-1})}},{key:"setFocusToFirstItem",value:function(){this.setFocusToItem(this.firstItem)}},{key:"setFocusToLastItem",value:function(){this.setFocusToItem(this.lastItem)}},{key:"openDropdown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.domNode,n=this.dropdownElm,a=this.triggerElm,o=this.options.openClass,h=v.settings.animatingClass,l=v.settings.animatingOpenClass;if(a.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),t.classList.add(o),this.options.awaitOpenAnimation){var c=function f(){var m=window.getComputedStyle(t);m.animationName==="none"&&(t.classList.remove(h,l),t.removeEventListener("animationend",f))};t.addEventListener("animationend",c),t.classList.add(h,l)}this.options.onOpen(this,e)}},{key:"closeDropdown",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.isOpen()){var t=this.domNode,n=this.dropdownElm,a=this.triggerElm,o=this.options.openClass,h=v.settings.animatingClass,l=v.settings.animatingCloseClass;if(n.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation){var c=function f(){var m=window.getComputedStyle(t);m.animationName==="none"&&(t.classList.remove(h,l),t.classList.remove(o),t.removeEventListener("animationend",f))};t.addEventListener("animationend",c),t.classList.add(l,l)}else t.classList.remove(o);a.removeAttribute("aria-expanded"),this.options.onClose(this,e)}this.resetBoundingBox()}},{key:"checkBoundingBox",value:function(){var e=this.dropdownElm.getBoundingClientRect();if(e.bottom>window.innerHeight){this.domNode.classList.add("out-of-bounds--bottom"),this.domNode.classList.remove("out-of-bounds--top");return}if(e.top<0){this.domNode.classList.add("out-of-bounds--top"),this.domNode.classList.remove("out-of-bounds--bottom");return}}},{key:"resetBoundingBox",value:function(){this.domNode.classList.remove("out-of-bounds--top","out-of-bounds--bottom")}}]),s}();function P(s){var i,e;return s===this.firstItem?i=this.lastItem:(e=this.dropdownItems.indexOf(s),i=this.dropdownItems[e-1]),this.setFocusToItem(i),i}function _(s){var i,e;return s===this.lastItem?i=this.firstItem:(e=this.dropdownItems.indexOf(s),i=this.dropdownItems[e+1]),this.setFocusToItem(i),i}function q(s,i){if(!(i.length>1)){var e,t;i=i.toLowerCase(),e=this.dropdownItems.indexOf(s)+1,e>=this.dropdownItems.length&&(e=0),t=this.firstChars.indexOf(i,e),t===-1&&(t=this.firstChars.indexOf(i,0)),t>-1&&this.setFocusToItem(this.dropdownItems[t])}}function Z(){this.domNode.classList.add("has-focus")}function ee(){this.domNode.classList.remove("has-focus")}function te(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=s.key,e=!1;switch(i){case" ":case"Enter":case"ArrowDown":case"Down":this.openDropdown(s),this.checkBoundingBox(),this.setFocusToFirstItem(),e=!0;break;case"Esc":case"Escape":this.isOpen()?(this.closeDropdown(s),this.triggerElm.focus(),e=!0):e=!1;break;case"Up":case"ArrowUp":this.openDropdown(s),this.checkBoundingBox(),this.setFocusToLastItem(),e=!0;break;case"Tab":this.isOpen()&&this.closeDropdown(s),e=!1;break}e&&(s.stopPropagation(),s.preventDefault())}function ie(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.isOpen()?(this.closeDropdown(s),this.triggerElm.focus()):(this.openDropdown(s),this.checkBoundingBox(),this.setFocusToFirstItem()),s.stopPropagation(),s.preventDefault()}function se(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=s.currentTarget,e=s.key,t=!1;function n(a){return a.length===1&&a.match(/\S/)}if(!(s.ctrlKey||s.altKey||s.metaKey)){if(s.shiftKey)n(e)&&(r(this,L,q).call(this,i,e),t=!0),s.key==="Tab"&&(this.options.tabNavigation?r(this,k,P).call(this,i):(this.triggerElm.focus(),this.closeDropdown(s)),t=!0);else switch(e){case" ":window.location.href=i.href;break;case"Esc":case"Escape":this.closeDropdown(s),this.triggerElm.focus(),t=!0;break;case"Up":case"ArrowUp":this.options.arrowNavigation&&r(this,k,P).call(this,i),t=!0;break;case"ArrowDown":case"Down":this.options.arrowNavigation&&r(this,E,_).call(this,i),t=!0;break;case"Home":case"PageUp":this.setFocusToFirstItem(),t=!0;break;case"End":case"PageDown":this.setFocusToLastItem(),t=!0;break;case"Tab":this.options.tabNavigation?r(this,E,_).call(this,i):(this.closeDropdown(s),this.triggerElm.focus()),t=!0;break;case"Enter":r(this,A,G).call(this,s);break;default:n(e)&&(r(this,L,q).call(this,i,e),t=!0);break}t&&(s.stopPropagation(),s.preventDefault())}}function ne(s){var i=s.currentTarget;i.focus()}function G(s){if(this.options.updateOnSelect===!0){var i=s.currentTarget.textContent;this.updateTargetNode.textContent=i,this.updateTargetNode.value=i}this.options.closeOnSelect===!0&&this.closeDropdown(s)}function oe(s){!this.domNode.contains(s.target)&&this.options.closeOnBackgroundClick&&this.isOpen()&&(this.closeDropdown(s),this.triggerElm.focus())}var u,j=new WeakSet,U=new WeakSet,M=new WeakSet,H=new WeakSet,ae=function(){function s(i,e){b(this,s),d(this,H),d(this,M),d(this,U),d(this,j);var t={onOpen:function(){},onClose:function(){},openTriggerAttribute:"f11y-layer-open",closeTriggerAttribute:"f11y-layer-close",openClass:u.settings.openClass,focusableElements:u.focusableElements,disableScroll:!0,closeOnBackgroundClick:!0,closeOnEscClick:!0,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.id="",this.init()}return p(s,[{key:"init",value:function(){if(this.id=this.domNode.id,this.dialog=this.domNode.querySelector('[role="dialog"]'),this.triggerElms=document.querySelectorAll("["+this.options.openTriggerAttribute+'="'+this.id+'"]'),this.closeElms=document.querySelectorAll("["+this.options.closeTriggerAttribute+'="'+this.id+'"]'),this.focusableElms=Array.from(this.domNode.querySelectorAll(this.options.focusableElements)),w(this.dialog)===!1){console.warn("Dialog element is not defined in passsed domNode");return}this.filterFocusableElms(),this.openLayerBound=this.openLayer.bind(this);for(var e=0;e<this.triggerElms.length;e++)this.triggerElms[e].addEventListener("click",this.openLayerBound,!0);for(var t=0;t<this.closeElms.length;t++)this.closeElms[t].addEventListener("click",this.closeLayer.bind(this),!0);for(var n=0;n<this.focusableElms.length;n++)this.firstElm||(this.firstElm=this.focusableElms[n]),this.lastElm=this.focusableElms[n];this.onBackgroundMousedownBound=r(this,H,he).bind(this),this.onWindowKeydownBound=r(this,M,de).bind(this),this.domNode.classList.add(u.settings.initialisedClass)}},{key:"refresh",value:function(){this.domNode.setAttribute("aria-hidden","true"),this.dialog.setAttribute("aria-modal","true"),this.dialog.setAttribute("role","dialog"),this.init()}},{key:"destroy",value:function(){this.closeLayer(),this.domNode.removeAttribute("aria-hidden"),this.dialog.removeAttribute("aria-modal"),this.dialog.removeAttribute("role"),this.domNode.classList.remove(u.settings.initialisedClass);for(var e=0;e<this.triggerElms.length;e++)this.triggerElms[e].removeEventListener("click",this.openLayerBound,!0)}},{key:"filterFocusableElms",value:function(){for(var e=this.focusableElms.length;e--;){var t=this.focusableElms[e],n=t.closest("[aria-hidden]");n!=this.domNode&&this.focusableElms.splice(e,1)}}},{key:"isOpen",value:function(){return this.domNode.getAttribute("aria-hidden")==="false"}},{key:"setFocusToElm",value:function(e){e.focus()}},{key:"setFocusToFirstElm",value:function(){this.setFocusToElm(this.firstElm)}},{key:"setFocusToLastElm",value:function(){this.setFocusToElm(this.lastElm)}},{key:"openLayer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.activeElm=document.activeElement;var t=this.domNode,n=document.querySelector("body"),a=this.options.openClass,o=u.settings.animatingClass,h=u.settings.animatingOpenClass;if(t.setAttribute("aria-hidden","false"),t.classList.add(a),this.options.disableScroll&&n.style.setProperty("overflow","hidden"),this.options.awaitOpenAnimation){var l=function c(){var f=window.getComputedStyle(t);f.animationName==="none"&&(t.classList.remove(o,h),t.removeEventListener("animationend",c))};t.addEventListener("animationend",l),t.classList.add(o,h)}this.setFocusToFirstElm(),this.addGlobalListeners(),u.store.activeLayer=this.id,u.store.activeLayers.push(this.id),this.options.onOpen(this,e)}},{key:"closeLayer",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.isOpen()){if(this.id!=u.store.activeLayer)return;var t=this.domNode,n=document.querySelector("body"),a=this.options.openClass,o=u.settings.animatingClass,h=u.settings.animatingCloseClass,l=u.store.activeLayers,c=l.indexOf(this.id);if(l.splice(c,1),u.store.activeLayers.length-1,t.setAttribute("aria-hidden","true"),this.activeElm&&this.activeElm.focus&&this.activeElm.focus(),this.options.awaitCloseAnimation){var f=function m(){var T=window.getComputedStyle(t);T.animationName==="none"&&(t.classList.remove(o,h),t.classList.remove(a),u.store.activeLayers.length<=0,t.removeEventListener("animationend",m))};t.addEventListener("animationend",f),t.classList.add(o,h)}else t.classList.remove(a),u.store.activeLayers.length<=0&&n.style.removeProperty("overflow")}this.removeGlobalListeners(),this.options.onClose(this,e)}},{key:"addGlobalListeners",value:function(){window.addEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.addEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"removeGlobalListeners",value:function(){window.removeEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.removeEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"closeLayerById",value:function(e){this.id===e&&this.closeLayer()}}]),s}();function re(s){var i;if(s===this.firstElm)i=this.lastElm;else{var e=this.focusableElms.indexOf(s);i=this.focusableElms[e-1]}return this.setFocusToElm(i),i}function le(s){var i;if(s===this.lastElm)i=this.firstElm;else{var e=this.focusableElms.indexOf(s);i=this.focusableElms[e+1]}return this.setFocusToElm(i),i}function de(s){var i=!1,e=s.target||s.currentTarget;if(s.shiftKey)s.key==="Tab"&&(r(this,j,re).call(this,e),i=!0);else switch(s.key){case"Escape":case"Esc":this.options.closeOnEscClick?(this.closeLayer(s),i=!0):i=!1;break;case"Tab":r(this,U,le).call(this,e),i=!0;break;case"Home":case"PageUp":this.setFocusToFirstElm(),i=!0;break;case"End":case"PageDown":this.setFocusToLastElm(),i=!0;break}i&&(s.stopPropagation(),s.preventDefault())}function he(s){this.dialog.contains(s.target)||this.isOpen()&&(this.closeLayer(s),this.activeElm.focus())}var ue,ce=function(){function s(i){b(this,s),this.domNode=i,this.init()}return p(s,[{key:"init",value:function(){this.tableId=this.domNode.getAttribute("id"),this.tableGroups=Array.from(this.domNode.querySelectorAll("thead, tbody, tfoot")),this.tableRows=Array.from(this.domNode.querySelectorAll("tr")),this.tableHeaderCells=Array.from(this.domNode.querySelectorAll("th")),this.tableDataCells=Array.from(this.domNode.querySelectorAll("td")),this.styleElm=document.createElement("style"),document.head.appendChild(this.styleElm),this.stylesheet=this.styleElm.sheet,this.insertCellHeaders(),this.insertTableAria(),this.domNode.classList.add(ue.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"insertCellHeaders",value:function(){for(var e=0;e<this.tableHeaderCells.length;e+=1)this.stylesheet.insertRule("#"+this.tableId+" td:nth-child("+(e+1)+")::before {content:'"+this.tableHeaderCells[e].innerText+"';}",this.stylesheet.cssRules.length)}},{key:"insertTableAria",value:function(){this.domNode.setAttribute("role","table");for(var e=0;e<this.tableGroups.length;e++)this.tableGroups[e].setAttribute("role","rowgroup");for(var t=0;t<this.tableRows.length;t++)this.tableRows[t].setAttribute("role","row");for(var n=0;n<this.tableHeaderCells.length;n++)this.tableHeaderCells[n].setAttribute("role","columnheader");for(var a=0;a<this.tableDataCells.length;a++)this.tableDataCells[a].setAttribute("role","cell")}}]),s}(),fe,me=function(){function s(i,e){b(this,s);var t={onChange:function(){},orientation:"horizontal",disableActiveTab:!1,changeOnNavigation:!0};this.options=Object.assign(t,e),this.domNode=i,this.init()}return p(s,[{key:"init",value:function(){this.tabs=Array.from(this.domNode.querySelectorAll("[role=tab]")),this.activeTabs=Array.from(this.domNode.querySelectorAll("[role=tab]:not([disabled])")),this.tabpanels=[];for(var e=0;e<this.tabs.length;e+=1){var t=this.tabs[e],n=document.getElementById(t.getAttribute("aria-controls"));t.tabIndex=-1,!this.selected&&t.getAttribute("aria-selected")==="true"?this.selected=t:t.setAttribute("aria-selected","false"),this.tabpanels.push(n),t.addEventListener("keydown",this.onKeydown.bind(this)),t.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=t),this.lastTab=t}this.selected?this.setSelectedTab(this.selected):this.setSelectedTab(this.firstTab),this.domNode.classList.add(fe.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"handleTabChange",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.setSelectedTab(e),this.options.onChange(this,t)}},{key:"setActiveTabs",value:function(){this.activeTabs=Array.from(this.domNode.querySelectorAll("[role=tab]:not([disabled])")),this.firstActiveTab=null;for(var e=0;e<this.activeTabs.length;e+=1){var t=this.activeTabs[e];this.firstActiveTab||(this.firstActiveTab=t),this.lastActiveTab=t}this.nextTab=this.getNextTab(),this.prevTab=this.getPrevTab()}},{key:"setSelectedTab",value:function(e){for(var t=0;t<this.tabs.length;t+=1){var n=this.tabs[t];e.id===n.id?(this.selected=this.tabs[t],n.setAttribute("aria-selected","true"),n.removeAttribute("tabindex"),this.tabpanels[t].removeAttribute("hidden"),this.options.disableActiveTab===!0&&(n.setAttribute("disabled",""),n.tabIndex=-1)):(n.setAttribute("aria-selected","false"),n.removeAttribute("disabled"),n.tabIndex=-1,this.tabpanels[t].setAttribute("hidden",""))}this.setActiveTabs()}},{key:"getNextTab",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t,n,a=e??this.selected;this.options.disableActiveTab?n=this.activeTabs:n=this.tabs;var o=n.indexOf(a);return a.id===this.lastActiveTab.id?t=this.firstActiveTab:t=n[o+1],t}},{key:"getPrevTab",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t,n,a=e??this.selected;this.options.disableActiveTab?n=this.activeTabs:n=this.tabs;var o=n.indexOf(a);return a.id===this.firstActiveTab.id?t=this.lastActiveTab:t=n[o-1],t}},{key:"moveFocusToTab",value:function(e){e.focus()}},{key:"onKeydown",value:function(e){var t=e.currentTarget,n=this.options.changeOnNavigation,a=this.options.orientation,o=!1;switch(e.key){case"ArrowLeft":a==="horizontal"&&(n?(this.handleTabChange(this.prevTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getPrevTab(t)),o=!0);break;case"ArrowRight":a==="horizontal"&&(n?(this.handleTabChange(this.nextTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getNextTab(t)),o=!0);break;case"ArrowUp":a==="vertical"&&(n?(this.handleTabChange(this.prevTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getPrevTab(t)),o=!0);break;case"ArrowDown":a==="vertical"&&(n?(this.handleTabChange(this.nextTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.getNextTab(t)),o=!0);break;case"Home":n?(this.handleTabChange(this.firstActiveTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.firstActiveTab),o=!0;break;case"End":n?(this.handleTabChange(this.lastActiveTab),this.moveFocusToTab(this.selected)):this.moveFocusToTab(this.lastActiveTab),o=!0;break}o&&(e.stopPropagation(),e.preventDefault())}},{key:"onClick",value:function(e){this.handleTabChange(e.currentTarget,e),this.moveFocusToTab(this.nextTab)}}]),s}(),g,W=new WeakSet,K=new WeakSet,ve=function(){function s(i,e){b(this,s),d(this,K),d(this,W);var t={onOpen:function(){},onClose:function(){},positionAttributeName:"f11y-tooltip-position",openClass:g.settings.openClass,leewayTiming:750,delayTiming:500,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(t,e),this.domNode=i,this.init()}return p(s,[{key:"init",value:function(){this.leeway=0,this.delay=0,this.trigger=this.domNode.querySelector("[aria-labelledby]"),this.tooltip=this.domNode.querySelector("[role=tooltip]"),this.tooltipPos=this.getTooltipPos(),this.onTooltipKeydownBound=r(this,W,ge).bind(this),this.onBackgroundMousedownBound=r(this,K,be).bind(this),this.domNode.addEventListener("mouseenter",this.openTooltip.bind(this)),this.trigger.addEventListener("touchstart",this.openTooltip.bind(this)),this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.trigger.addEventListener("focusin",this.openTooltip.bind(this)),this.domNode.addEventListener("mouseleave",this.closeTooltip.bind(this)),this.domNode.addEventListener("touchend",this.closeTooltip.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),this.trigger.addEventListener("focusout",this.closeTooltip.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this)),this.domNode.classList.add(g.settings.initialisedClass)}},{key:"refresh",value:function(){this.init()}},{key:"isOpen",value:function(){return this.domNode.classList.contains(this.options.openClass)===!0}},{key:"openTooltip",value:function(){var e=this.domNode,t=this.tooltip,n=this.options.openClass,a=g.settings.animatingClass,o=g.settings.animatingOpenClass;if(!this.isOpen()&&this.options.awaitOpenAnimation){var h=function l(){e.classList.remove(a,o),e.classList.add(n),t.classList.add(n),clearTimeout(this.leeway),e.removeEventListener("animationend",l)};e.addEventListener("animationend",h),e.classList.add(a,o)}else e.classList.add(n),t.classList.add(n),clearTimeout(this.leeway);this.checkBoundingBox(),this.addGlobalListeners()}},{key:"closeTooltip",value:function(){if(this.isOpen()){var e=this.domNode,t=this.tooltip,n=this.options.openClass,a=this.options.leewayTiming,o=g.settings.animatingClass,h=g.settings.animatingCloseClass;this.options.awaitCloseAnimation?this.leeway=setTimeout(function(){e.addEventListener("animationend",l),e.classList.add(o,h);function l(){e.classList.remove(o,h),e.classList.remove(n),t.classList.remove(n),e.removeEventListener("animationend",l)}},a):this.leeway=setTimeout(function(){e.classList.remove(n),t.classList.remove(n)},a)}this.resetBoundingBox(),this.removeGlobalListeners()}},{key:"addGlobalListeners",value:function(){document.addEventListener("keydown",this.onTooltipKeydownBound),window.addEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"removeGlobalListeners",value:function(){document.removeEventListener("keydown",this.onTooltipKeydownBound),window.removeEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"onFocusin",value:function(){this.domNode.classList.add("has-focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("has-focus")}},{key:"getTooltipPos",value:function(){var e="bottom";return this.domNode.getAttribute(this.options.positionAttributeName)&&(e=this.domNode.getAttribute(this.options.positionAttributeName)),e}},{key:"checkBoundingBox",value:function(){var e=this.tooltip.getBoundingClientRect();this.checkHorizontalBounding(e),this.checkVerticalBounding(e)}},{key:"checkHorizontalBounding",value:function(e){var t=window.innerWidth,n;if(e.right>t&&e.left<0){console.warn("Tooltip width too wide for the window");return}e.right>t&&(n=t-Math.round(e.right)-Math.round(e.width)/1.6,this.domNode.style.setProperty("--f11y-tooltip-offset",n)),e.left<0&&(n=Math.floor(e.width/2),this.domNode.style.setProperty("--f11y-tooltip-offset",n))}},{key:"checkVerticalBounding",value:function(e){var t=window.innerHeight;if(e.bottom>t&&e.top<0){console.warn("Tooltip height too high for the window");return}if(e.bottom>t){this.domNode.setAttribute(this.options.positionAttributeName,"top");return}if(e.top<0){this.domNode.setAttribute(this.options.positionAttributeName,"bottom");return}}},{key:"resetBoundingBox",value:function(){this.domNode.style.removeProperty("--f11y-tooltip-offset"),this.domNode.setAttribute(this.options.positionAttributeName,this.tooltipPos)}}]),s}();function ge(s){var i=s.key,e=!1;switch(i){case"Escape":case"Esc":this.closeTooltip(),e=!0;break}e&&(s.stopPropagation(),s.preventDefault())}function be(s){this.domNode.contains(s.target)||this.isOpen()&&this.closeTooltip()}function z(){var s={Accordion:X,Dropdown:Y,Layer:ae,Table:ce,TabList:me,Tooltip:ve,focusableElements:['a[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','area[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','input:not([disabled]):not([type="hidden"]):not([aria-hidden]):not([tabindex^="-"])','select:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','textarea:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','button:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','iframe:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','object:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','embed:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[contenteditable]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'],settings:{initialisedClass:"has-initialised",openClass:"is-open",animatingClass:"is-animating",animatingOpenClass:"is-opening",animatingCloseClass:"is-closing",awaitOpenAnimation:!1,awaitCloseAnimation:!1},store:{activeLayers:[],activeLayer:""}};return typeof window<"u"&&(window.f11y=s),s}var y=z(),pe=document.querySelectorAll(".f11y--tabs--code");pe.forEach(function(s){let i=new y.TabList(s,{onChange:()=>{},orientation:"horizontal",disableActiveTab:!0})});var ye=document.querySelector(".f11y--accordion--default");new y.Accordion(ye);var we=document.querySelector(".f11y--accordion--callback"),$=new y.Accordion(we,{showMultiple:!1,onOpen:function(s,i){let e=s.index,t=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');t.classList.add("is-open"),t.classList.remove("is-closed")},onClose:function(s,i){let e=s.index,t=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');t.classList.add("is-closed"),t.classList.remove("is-open")}}),Te=document.querySelectorAll(".external-callback-trigger");Te.forEach(function(s){let i=$.items[s.dataset.index];s.addEventListener("click",function(e){$.toggle(i,e)})});var ke=document.querySelectorAll(".f11y--table");ke.forEach(function(s){let i=new y.Table(s)});var Ee=document.querySelector("#layer-default");new y.Layer(Ee,{closeOnBackgroundClick:!0,awaitCloseAnimation:!0,awaitOpenAnimation:!0});var Le=document.querySelector("#layer-alert");new y.Layer(Le,{closeOnBackgroundClick:!1,awaitCloseAnimation:!0,awaitOpenAnimation:!0});})();
//# sourceMappingURL=app.min.js.map
