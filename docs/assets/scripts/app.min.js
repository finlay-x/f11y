(()=>{function m(s){var t=function(e,o){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,o||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}(s,"string");return typeof t=="symbol"?t:String(t)}function l(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function h(s,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,m(o.key),o)}}function d(s,t,e){return t&&h(s.prototype,t),e&&h(s,e),Object.defineProperty(s,"prototype",{writable:!1}),s}var i=i||{};i.focusableElements=['a[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','area[href]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','input:not([disabled]):not([type="hidden"]):not([aria-hidden]):not([tabindex^="-"])','select:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','textarea:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','button:not([disabled]):not([aria-hidden]):not([tabindex^="-"])','iframe:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','object:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','embed:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[contenteditable]:not([disabled]):not([hidden]):not([aria-hidden]):not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])','[role="menuitem"]:not([disabled]):not([hidden]):not([aria-hidden])'],i.globalSettings={animatingClass:"is-animating",animatingOpenClass:"is-opening",animatingCloseClass:"is-closing",awaitOpenAnimation:!1,awaitCloseAnimation:!1,openClass:"is-open"},i.store={activeLayers:[],activeLayer:""},i.Accordion=function(){function s(t,e){l(this,s),this.options=Object.assign({onOpen:function(){},onClose:function(){},itemClass:"f11y--accordion__item",showMultiple:!0},e),this.accordionGroupNode=t,this.accordionItems=[],this.init()}return d(s,[{key:"init",value:function(){for(var t=Array.from(this.accordionGroupNode.querySelectorAll(".f11y--accordion__item")),e=0;e<t.length;e+=1){var o=t[e],n=o.querySelector('[role="region"]'),a=o.querySelector("[aria-controls]"),r={index:e,item:o,itemPanel:n,itemTrigger:a,isOpen:a.getAttribute("aria-expanded")};this.accordionItems.push(r)}for(var c=0;c<this.accordionItems.length;c+=1)this.accordionItems[c].itemTrigger.addEventListener("click",this.toggle.bind(this,this.accordionItems[c]))}},{key:"refresh",value:function(){this.accordionItems=[],this.init()}},{key:"toggle",value:function(t,e){var o=t.isOpen;this.options.showMultiple===!1&&this.closeAll(e),o!="false"?o!="true"||this.closeItem(e,t):this.openItem(e,t)}},{key:"closeAll",value:function(t){for(var e=0;e<this.accordionItems.length;e+=1)this.accordionItems[e].isOpen=="true"&&this.closeItem(t,this.accordionItems[e])}},{key:"openAll",value:function(t){if(this.options.showMultiple!==!1)for(var e=0;e<this.accordionItems.length;e+=1)this.openItem(t,this.accordionItems[e])}},{key:"openItem",value:function(t,e){e.isOpen!="true"&&(e.itemPanel.removeAttribute("hidden"),e.itemTrigger.setAttribute("aria-expanded","true"),e.isOpen="true",this.options.onOpen(e,t,this))}},{key:"closeItem",value:function(t,e){e.isOpen=="true"&&(e.itemPanel.setAttribute("hidden",""),e.itemTrigger.setAttribute("aria-expanded","false"),e.isOpen="false",this.options.onClose(e,t,this))}}]),s}(),i.Dropdown=function(){function s(t,e){l(this,s);var o={onOpen:function(){},onClose:function(){},openClass:i.globalSettings.openClass,triggerNodeSelector:"button[aria-controls]",dropdownNodeSelector:'[role="menu"]',updateOnSelect:!1,updateTargetSelector:"",closeOnSelect:!1,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(o,e),this.domNode=t,this.dropdownItemNodes=[],this.firstChars=[],this.init()}return d(s,[{key:"isset",value:function(t){return t!==void 0&&t!=null}},{key:"init",value:function(){this.triggerNode=this.domNode.querySelector(this.options.triggerNodeSelector),this.dropdownNode=this.domNode.querySelector(this.options.dropdownNodeSelector),this.triggerNode.addEventListener("keydown",this.onTriggerKeydown.bind(this)),this.triggerNode.addEventListener("click",this.onTriggerClick.bind(this)),this.options.updateTargetSelector?this.options.updateTargetSelector:this.options.triggerNodeSelector,this.updateTargetNode=document.querySelector(this.options.updateTargetSelector);for(var t=this.dropdownNode.querySelectorAll(i.focusableElements),e=0;e<t.length;e++){var o=t[e];this.dropdownItemNodes.push(o),o.tabIndex=-1,this.firstChars.push(o.textContent.trim()[0].toLowerCase()),o.addEventListener("keydown",this.onDropdownItemKeydown.bind(this)),o.addEventListener("mouseover",this.onDropdownItemMouseover.bind(this)),this.options.updateOnSelect===!0&&o.addEventListener("click",this.onDropdownItemClick.bind(this)),this.firstDropdownItem||(this.firstDropdownItem=o),this.lastDropdownItem=o}this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),window.addEventListener("mousedown",this.onBackgroundMousedown.bind(this),!0),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this))}},{key:"refresh",value:function(){this.dropdownItemNodes=[],this.firstChars=[],this.init()}},{key:"isOpen",value:function(){return this.triggerNode.getAttribute("aria-expanded")==="true"}},{key:"setFocusToDropdownItem",value:function(t){this.dropdownItemNodes.forEach(function(e){e===t?(e.tabIndex=0,t.focus()):e.tabIndex=-1})}},{key:"setFocusToFirstDropdownItem",value:function(){this.setFocusToDropdownItem(this.firstDropdownItem)}},{key:"setFocusToLastDropdownItem",value:function(){this.setFocusToDropdownItem(this.lastDropdownItem)}},{key:"setFocusToPreviousDropdownItem",value:function(t){var e,o;return t===this.firstDropdownItem?e=this.lastDropdownItem:(o=this.dropdownItemNodes.indexOf(t),e=this.dropdownItemNodes[o-1]),this.setFocusToDropdownItem(e),e}},{key:"setFocusToNextDropdownItem",value:function(t){var e,o;return t===this.lastDropdownItem?e=this.firstDropdownItem:(o=this.dropdownItemNodes.indexOf(t),e=this.dropdownItemNodes[o+1]),this.setFocusToDropdownItem(e),e}},{key:"setFocusByFirstCharacter",value:function(t,e){var o,n;e.length>1||(e=e.toLowerCase(),(o=this.dropdownItemNodes.indexOf(t)+1)>=this.dropdownItemNodes.length&&(o=0),(n=this.firstChars.indexOf(e,o))===-1&&(n=this.firstChars.indexOf(e,0)),n>-1&&this.setFocusToDropdownItem(this.dropdownItemNodes[n]))}},{key:"openDropdown",value:function(t){var e=this.domNode,o=this.dropdownNode,n=this.triggerNode,a=this.options.openClass;n.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false"),e.classList.add(a),this.options.awaitOpenAnimation&&(e.addEventListener("animationend",function r(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),e.removeEventListener("animationend",r)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)),this.options.onOpen(t,this)}},{key:"closeDropdown",value:function(t){if(this.isOpen()){var e=this.domNode,o=this.dropdownNode,n=this.triggerNode,a=this.options.openClass;o.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation?(e.addEventListener("animationend",function r(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),e.classList.remove(a),e.removeEventListener("animationend",r)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)):e.classList.remove(a),n.removeAttribute("aria-expanded"),this.options.onClose(t,this)}this.resetBoundingBox()}},{key:"onFocusin",value:function(){this.domNode.classList.add("focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("focus")}},{key:"onTriggerKeydown",value:function(t){var e=!1;switch(t.key){case" ":case"Enter":case"ArrowDown":case"Down":this.openDropdown(t),this.checkBoundingBox(),this.setFocusToFirstDropdownItem(),e=!0;break;case"Esc":case"Escape":this.isOpen()?(this.closeDropdown(t),this.triggerNode.focus(),e=!0):e=!1;break;case"Up":case"ArrowUp":this.openDropdown(t),this.checkBoundingBox(),this.setFocusToLastDropdownItem(),e=!0;break;case"Tab":this.isOpen()&&this.closeDropdown(t),e=!1}e&&(t.stopPropagation(),t.preventDefault())}},{key:"onTriggerClick",value:function(t){this.isOpen()?(this.closeDropdown(t),this.triggerNode.focus()):(this.openDropdown(t),this.checkBoundingBox(),this.setFocusToFirstDropdownItem()),t.stopPropagation(),t.preventDefault()}},{key:"onDropdownItemKeydown",value:function(t){var e=t.currentTarget,o=t.key,n=!1;function a(r){return r.length===1&&r.match(/\S/)}if(!(t.ctrlKey||t.altKey||t.metaKey)){if(t.shiftKey)a(o)&&(this.setFocusByFirstCharacter(e,o),n=!0),t.key==="Tab"&&(this.triggerNode.focus(),this.closeDropdown(t),n=!0);else switch(o){case" ":window.location.href=e.href;break;case"Esc":case"Escape":case"Tab":this.closeDropdown(t),this.triggerNode.focus(),n=!0;break;case"Up":case"ArrowUp":this.setFocusToPreviousDropdownItem(e),n=!0;break;case"ArrowDown":case"Down":this.setFocusToNextDropdownItem(e),n=!0;break;case"Home":case"PageUp":this.setFocusToFirstDropdownItem(),n=!0;break;case"End":case"PageDown":this.setFocusToLastDropdownItem(),n=!0;break;case"Enter":this.onDropdownItemClick(t);break;default:a(o)&&(this.setFocusByFirstCharacter(e,o),n=!0)}n&&(t.stopPropagation(),t.preventDefault())}}},{key:"onDropdownItemMouseover",value:function(t){t.currentTarget.focus()}},{key:"onDropdownItemClick",value:function(t){if(this.options.updateOnSelect===!0){var e=t.currentTarget.textContent;this.updateTargetNode.textContent=e,this.updateTargetNode.value=e}this.options.closeOnSelect===!0&&this.closeDropdown(t)}},{key:"checkBoundingBox",value:function(){var t=this.dropdownNode.getBoundingClientRect();this.checkVerticalBounding(t)}},{key:"checkVerticalBounding",value:function(t){var e=window.innerHeight;return t.bottom>e?(this.domNode.classList.add("out-of-bounds--bottom"),void this.domNode.classList.remove("out-of-bounds--top")):t.top<0?(this.domNode.classList.add("out-of-bounds--top"),void this.domNode.classList.remove("out-of-bounds--bottom")):void 0}},{key:"resetBoundingBox",value:function(){this.domNode.classList.remove("out-of-bounds--top","out-of-bounds--bottom")}},{key:"onBackgroundMousedown",value:function(t){this.domNode.contains(t.target)||this.isOpen()&&(this.closeDropdown(t),this.triggerNode.focus())}}]),s}(),i.Layer=function(){function s(t,e){l(this,s);var o={onOpen:function(){},onClose:function(){},openTrigger:"f11y-layer-open",closeTrigger:"f11y-layer-close",openClass:i.globalSettings.openClass,disableScroll:!0,closeOnBackgroundClick:!0,awaitCloseAnimation:!1,awaitOpenAnimation:!1};this.options=Object.assign(o,e),this.layer=t,this.id="",this.init()}return d(s,[{key:"init",value:function(){this.id=this.layer.id,this.dialog=this.layer.querySelector('[role="dialog"]'),this.triggerNodes=document.querySelectorAll("["+this.options.openTrigger+'="'+this.layer.id+'"]'),this.closeNodes=document.querySelectorAll("["+this.options.closeTrigger+'="'+this.layer.id+'"]'),this.focusableElements=Array.from(this.layer.querySelectorAll(i.focusableElements)),this.filterFocusableElements();for(var t=0;t<this.triggerNodes.length;t++)this.triggerNodes[t].addEventListener("click",this.openLayer.bind(this),!0);for(var e=0;e<this.closeNodes.length;e++)this.closeNodes[e].addEventListener("click",this.closeLayer.bind(this),!0);for(var o=0;o<this.focusableElements.length;o++)this.firstElement||(this.firstElement=this.focusableElements[o]),this.lastElement=this.focusableElements[o];this.onBackgroundMousedownBound=this.onBackgroundMousedown.bind(this),this.onWindowKeydownBound=this.onWindowKeydown.bind(this)}},{key:"refresh",value:function(){this.init()}},{key:"filterFocusableElements",value:function(){for(var t=this.focusableElements.length;t--;)this.focusableElements[t].closest("[aria-hidden]")!=this.layer&&this.focusableElements.splice(t,1)}},{key:"isOpen",value:function(){return this.layer.getAttribute("aria-hidden")==="false"}},{key:"setFocusToElement",value:function(t){this.focusableElements.forEach(function(e){e===t&&t.focus()})}},{key:"setFocusToFirstElement",value:function(){this.setFocusToElement(this.firstElement)}},{key:"setFocusToLastElement",value:function(){this.setFocusToElement(this.lastElement)}},{key:"setFocusToPrevElement",value:function(t){var e,o;return t===this.firstElement?e=this.lastElement:(o=this.focusableElements.indexOf(t),e=this.focusableElements[o-1]),this.setFocusToElement(e),e}},{key:"setFocusToNextElement",value:function(t){var e,o;return t===this.lastElement?e=this.firstElement:(o=this.focusableElements.indexOf(t),e=this.focusableElements[o+1]),this.setFocusToElement(e),console.log(e),e}},{key:"openLayer",value:function(t){this.activeElement=document.activeElement;var e=this.layer,o=document.querySelector("body"),n=this.options.openClass;e.setAttribute("aria-hidden","false"),e.classList.add(n),e.addEventListener("click",this.onLayerClick),this.options.disableScroll&&o.style.setProperty("overflow","hidden"),this.options.awaitOpenAnimation&&(e.addEventListener("animationend",function a(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),e.removeEventListener("animationend",a)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)),this.setFocusToFirstElement(),this.addGlobalListeners(),i.store.activeLayer=this.id,i.store.activeLayers.push(this.id),this.options.onOpen(t,this)}},{key:"closeLayer",value:function(t){if(this.isOpen()){if(this.id!=i.store.activeLayer)return;var e=this.layer,o=document.querySelector("body"),n=this.options.openClass;i.store.activeLayers.pop(),i.store.activeLayer=i.store.activeLayers[i.store.activeLayers.length-1],e.setAttribute("aria-hidden","true"),e.removeEventListener("click",this.onLayerClick),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.options.awaitCloseAnimation?(e.addEventListener("animationend",function a(){e.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),e.classList.remove(n),i.store.activeLayers<=0&&o.style.removeProperty("overflow"),e.removeEventListener("animationend",a)}),e.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)):(e.classList.remove(n),i.store.activeLayers<=0&&o.style.removeProperty("overflow"))}this.removeGlobalListeners(),this.options.onClose(t,this)}},{key:"addGlobalListeners",value:function(){window.addEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.addEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"removeGlobalListeners",value:function(){window.removeEventListener("keydown",this.onWindowKeydownBound),this.options.closeOnBackgroundClick&&window.removeEventListener("mousedown",this.onBackgroundMousedownBound)}},{key:"closeLayerById",value:function(t){this.layer=document.getElementById(t),this.layer&&this.closeLayer()}},{key:"onWindowKeydown",value:function(t){var e=!1,o=t.target||t.currentTarget;if(t.shiftKey)t.key==="Tab"&&(this.setFocusToPrevElement(o),e=!0);else switch(t.key){case"Escape":case"Esc":this.closeLayer(t),e=!0;break;case"Tab":this.setFocusToNextElement(o),e=!0;break;case"Home":case"PageUp":this.setFocusToFirstElement(),e=!0;break;case"End":case"PageDown":this.setFocusToLastElement(),e=!0}e&&(t.stopPropagation(),t.preventDefault())}},{key:"onBackgroundMousedown",value:function(t){this.dialog.contains(t.target)||this.isOpen()&&(this.closeLayer(t),this.activeElement.focus())}}]),s}(),i.Table=function(){function s(t){l(this,s),this.tableNode=t,this.init()}return d(s,[{key:"init",value:function(){this.tableId=this.tableNode.getAttribute("id"),this.tableGroups=Array.from(this.tableNode.querySelectorAll("thead, tbody, tfoot")),this.tableRows=Array.from(this.tableNode.querySelectorAll("tr")),this.tableHeaderCells=Array.from(this.tableNode.querySelectorAll("th")),this.tableDataCells=Array.from(this.tableNode.querySelectorAll("td")),this.styleElm=document.createElement("style"),document.head.appendChild(this.styleElm),this.stylesheet=this.styleElm.sheet,this.insertCellHeaders(),this.insertTableAria()}},{key:"refresh",value:function(){this.init()}},{key:"insertCellHeaders",value:function(){for(var t=0;t<this.tableHeaderCells.length;t+=1)this.stylesheet.insertRule("#"+this.tableId+" td:nth-child("+(t+1)+")::before {content:'"+this.tableHeaderCells[t].innerText+"';}",this.stylesheet.cssRules.length)}},{key:"insertTableAria",value:function(){this.tableNode.setAttribute("role","table");for(var t=0;t<this.tableGroups.length;t++)this.tableGroups[t].setAttribute("role","rowgroup");for(var e=0;e<this.tableRows.length;e++)this.tableRows[e].setAttribute("role","row");for(var o=0;o<this.tableHeaderCells.length;o++)this.tableHeaderCells[o].setAttribute("role","columnheader");for(var n=0;n<this.tableDataCells.length;n++)this.tableDataCells[n].setAttribute("role","cell")}}]),s}(),i.TabList=function(){function s(t,e){l(this,s),this.options=Object.assign({onChange:function(){},orientation:"horizontal",disableActiveTab:!1},e),this.tablistNode=t,this.init()}return d(s,[{key:"init",value:function(){this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.activeTabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]:not([disabled])")),this.tabpanels=[];for(var t=0;t<this.tabs.length;t+=1){var e=this.tabs[t],o=document.getElementById(e.getAttribute("aria-controls"));e.tabIndex=-1,e.setAttribute("aria-selected","false"),this.tabpanels.push(o),e.addEventListener("keydown",this.onKeydown.bind(this)),e.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=e),this.lastTab=e}this.setActiveTab(this.firstTab),this.findActiveTabs()}},{key:"refresh",value:function(){this.init()}},{key:"handleTabChange",value:function(t,e){this.setActiveTab(t),this.findActiveTabs();var o=this.tabs.indexOf(this.activeTab),n=this.tabs[o+1];n===void 0&&(n=this.activeTabs[0]),this.moveFocusToTab(n),this.options.onChange(e,this)}},{key:"findActiveTabs",value:function(){this.activeTabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]:not([disabled])")),this.firstActiveTab=null;for(var t=0;t<this.activeTabs.length;t+=1){var e=this.activeTabs[t];this.firstActiveTab||(this.firstActiveTab=e),this.lastActiveTab=e}this.options.disableActiveTab===!0&&this.activeTabs[0].removeAttribute("tabindex")}},{key:"setActiveTab",value:function(t){for(var e=0;e<this.tabs.length;e+=1){var o=this.tabs[e];t.id===o.id?(this.activeTab=this.tabs[e],o.setAttribute("aria-selected","true"),o.removeAttribute("tabindex"),this.tabpanels[e].removeAttribute("hidden"),this.options.disableActiveTab===!0&&(o.setAttribute("disabled",""),o.tabIndex=-1)):(o.setAttribute("aria-selected","false"),o.removeAttribute("disabled"),o.tabIndex=-1,this.tabpanels[e].setAttribute("hidden",""))}}},{key:"moveFocusToTab",value:function(t){t.focus()}},{key:"moveFocusToPreviousTab",value:function(t){var e=this.activeTabs.indexOf(t);t.id===this.firstActiveTab.id?this.moveFocusToTab(this.lastActiveTab):this.moveFocusToTab(this.activeTabs[e-1])}},{key:"moveFocusToNextTab",value:function(t){var e=this.activeTabs.indexOf(t);t.id===this.lastActiveTab.id?this.moveFocusToTab(this.firstActiveTab):this.moveFocusToTab(this.activeTabs[e+1])}},{key:"onKeydown",value:function(t){var e=t.currentTarget,o=!1;switch(t.key){case"ArrowLeft":this.options.orientation==="horizontal"&&(this.moveFocusToPreviousTab(e),o=!0);break;case"ArrowRight":this.options.orientation==="horizontal"&&(this.moveFocusToNextTab(e),o=!0);break;case"ArrowUp":this.options.orientation==="vertical"&&(this.moveFocusToPreviousTab(e),o=!0);break;case"ArrowDown":this.options.orientation==="vertical"&&(this.moveFocusToNextTab(e),o=!0);break;case"Home":this.moveFocusToTab(this.firstTab),o=!0;break;case"End":this.moveFocusToTab(this.lastTab),o=!0}o&&(t.stopPropagation(),t.preventDefault())}},{key:"onClick",value:function(t){this.handleTabChange(t.currentTarget,t)}}]),s}(),i.Tooltip=function(){function s(t,e){l(this,s);var o={onOpen:function(){},onClose:function(){},openClass:i.globalSettings.openClass,triggerNodeSelector:"[aria-labelledby]",tooltipNodeSelector:"[role=tooltip]",positionAttributeName:"f11y-tooltip-position",awaitCloseAnimation:!0,awaitOpenAnimation:!0};this.options=Object.assign(o,e),this.domNode=t,this.init()}return d(s,[{key:"init",value:function(){this.timer=0,this.triggerNode=this.domNode.querySelector(this.options.triggerNodeSelector),this.tooltipNode=this.domNode.querySelector(this.options.tooltipNodeSelector),this.tooltipPosition=this.getTooltipPosition(),this.onTooltipKeydownBound=this.onTooltipKeydown.bind(this),this.onBackgroundMousedownBound=this.onBackgroundMousedown.bind(this),this.domNode.addEventListener("mouseenter",this.openTooltip.bind(this)),this.domNode.addEventListener("touchstart",this.openTooltip.bind(this)),this.domNode.addEventListener("focusin",this.onFocusin.bind(this)),this.triggerNode.addEventListener("focusin",this.openTooltip.bind(this)),this.domNode.addEventListener("mouseleave",this.closeTooltip.bind(this)),this.domNode.addEventListener("touchend",this.closeTooltip.bind(this)),this.domNode.addEventListener("focusout",this.onFocusout.bind(this)),this.triggerNode.addEventListener("focusout",this.closeTooltip.bind(this)),document.addEventListener("scroll",this.checkBoundingBox.bind(this)),window.addEventListener("resize",this.checkBoundingBox.bind(this))}},{key:"refresh",value:function(){this.init()}},{key:"isOpen",value:function(){return this.domNode.classList.contains(this.options.openClass)===!0}},{key:"openTooltip",value:function(){var t=this.domNode,e=this.tooltipNode,o=this.timer,n=this.options.openClass;e.classList.add(n),!this.isOpen()&&this.options.awaitOpenAnimation?(t.addEventListener("animationend",function a(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass),t.classList.add(n),clearTimeout(o),t.removeEventListener("animationend",a)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingOpenClass)):(t.classList.add(n),clearTimeout(o)),this.checkBoundingBox(),this.addGlobalListeners()}},{key:"closeTooltip",value:function(){if(this.isOpen()){var t=this.domNode,e=this.tooltipNode,o=this.options.openClass;this.options.awaitCloseAnimation?this.timer=setTimeout(function(){t.addEventListener("animationend",function n(){t.classList.remove(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass),t.classList.remove(o),e.classList.remove(o),t.removeEventListener("animationend",n)}),t.classList.add(i.globalSettings.animatingClass,i.globalSettings.animatingCloseClass)},750):this.timer=setTimeout(function(){t.classList.remove(o),e.classList.remove(o)},750)}this.resetBoundingBox(),this.removeGlobalListeners()}},{key:"addGlobalListeners",value:function(){document.addEventListener("keydown",this.onTooltipKeydownBound),window.addEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"removeGlobalListeners",value:function(){document.removeEventListener("keydown",this.onTooltipKeydownBound),window.removeEventListener("mousedown",this.onBackgroundMousedownBound,!0)}},{key:"onFocusin",value:function(){this.domNode.classList.add("focus")}},{key:"onFocusout",value:function(){this.domNode.classList.remove("focus")}},{key:"onTooltipKeydown",value:function(t){var e=!1;switch(t.key){case"Escape":case"Esc":this.closeTooltip(),e=!0}e&&(t.stopPropagation(),t.preventDefault())}},{key:"onBackgroundMousedown",value:function(t){this.domNode.contains(t.target)||this.isOpen()&&this.closeTooltip()}},{key:"getTooltipPosition",value:function(){var t="bottom";return this.domNode.getAttribute(this.options.positionAttributeName)&&(t=this.domNode.getAttribute(this.options.positionAttributeName)),t}},{key:"checkBoundingBox",value:function(){var t=this.tooltipNode.getBoundingClientRect();this.checkHorizontalBounding(t),this.checkVerticalBounding(t)}},{key:"checkHorizontalBounding",value:function(t){var e=window.innerWidth;t.right>e&&t.left<0?console.warn("Tooltip width too wide for the window"):(t.right>e&&this.moveTooltipLeft(t,e),t.left<0&&this.moveTooltipRight(t))}},{key:"checkVerticalBounding",value:function(t){var e=window.innerHeight;t.bottom>e&&t.top<0?console.warn("Tooltip height too high for the window"):t.bottom>e?this.moveTooltipUp():t.top<0&&this.moveTooltipDown()}},{key:"moveTooltipUp",value:function(){this.domNode.setAttribute(this.options.positionAttributeName,"top")}},{key:"moveTooltipRight",value:function(t){var e=Math.floor(t.width/2);this.tooltipNode.style.left="".concat(e,"px")}},{key:"moveTooltipDown",value:function(){this.domNode.setAttribute(this.options.positionAttributeName,"bottom")}},{key:"moveTooltipLeft",value:function(t,e){var o=e-Math.round(t.right)-Math.round(t.width)/1.6;this.tooltipNode.style.transform="translateX(".concat(o,"px)")}},{key:"resetBoundingBox",value:function(){(this.tooltipNode.style.left||this.tooltipNode.style.transform)&&(this.tooltipNode.style.left=null,this.tooltipNode.style.transform=null),this.domNode.setAttribute(this.options.positionAttributeName,this.tooltipPosition)}}]),s}(),typeof window<"u"&&(window.f11y=i);var p=document.querySelectorAll(".f11y--tabs--code");p.forEach(function(s){let t=new i.TabList(s,{onChange:()=>{},orientation:"horizontal",disableActiveTab:!0})});var b=document.querySelector(".f11y--accordion--default");new i.Accordion(b);var v=document.querySelector(".f11y--accordion--callback"),u=new i.Accordion(v,{showMultiple:!1,onOpen:function(s,t){let e=s.index,o=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');o.classList.add("is-open"),o.classList.remove("is-closed")},onClose:function(s,t){let e=s.index,o=document.querySelector('.external-callback-trigger[data-index="'+e+'"]');o.classList.add("is-closed"),o.classList.remove("is-open")}}),f=document.querySelectorAll(".external-callback-trigger");f.forEach(function(s){let t=u.accordionItems[s.dataset.index];s.addEventListener("click",function(e){u.toggle(t,e)})});var g=document.querySelectorAll(".f11y--table");g.forEach(function(s){let t=new i.Table(s);console.log(t)});})();
//# sourceMappingURL=app.min.js.map
